"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[900],{38:function(e,t,n){n.d(t,{Ek:function(){return l},VS:function(){return o},ir:function(){return u},tK:function(){return d}});var i=n(4165),s=n(5861),r=n(7218),a=r.E.injectEndpoints({endpoints:function(e){return{subjectRepetitionList:e.query({query:function(){return{url:"subjectRepetition/subjectRepetitionList",method:"GET"}}}),subjectRepetitionCreate:e.mutation({query:function(e){return{url:"subjectRepetition/subjectRepetitionCreate",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,s.Z)((0,i.Z)().mark((function e(){var n,s,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,s=t.queryFulfilled,e.prev=1,e.next=4,s;case 4:a=e.sent,o=a.data,n(r.E.util.updateQueryData("subjectRepetitionList",void 0,(function(e){e.data.push(o.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),subjectRepetitionUpdate:e.mutation({query:function(e){var t=e.id,n=e.postBody;return{url:"subjectRepetition/subjectRepetitionUpdate/".concat(t),method:"PATCH",body:n}},onQueryStarted:function(e,t){return(0,s.Z)((0,i.Z)().mark((function n(){var s,a,o,d,l,u;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.id,a=e.postBody,o=t.dispatch,d=t.queryFulfilled,n.prev=2,n.next=5,d;case 5:l=n.sent,u=l.data,o(r.E.util.updateQueryData("subjectRepetitionList",void 0,(function(e){var t,n=e.data.findIndex((function(e){return e.id===s}));e.data[n].rollNo=a.rollNo,e.data[n].session=a.session,e.data[n].sessionCGPA=a.sessionCGPA,e.data[n].sessionRegistration=a.sessionRegistration,e.data[n].status=null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.status,e.data[n].studentID=a.studentID,e.data[n].studentName=a.studentName}))),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),subjectRepetitionDelete:e.mutation({query:function(e){return{url:"subjectRepetition/subjectRepetitionDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,t){return(0,s.Z)((0,i.Z)().mark((function n(){var s,a,o;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=t.dispatch,a=t.queryFulfilled,o=s(r.E.util.updateQueryData("subjectRepetitionList",void 0,(function(t){t.data=t.data.filter((function(t){return t.id!==e}))}))),n.prev=2,n.next=5,a;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),o.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}}),o=a.useSubjectRepetitionCreateMutation,d=a.useSubjectRepetitionListQuery,l=a.useSubjectRepetitionUpdateMutation,u=a.useSubjectRepetitionDeleteMutation},8900:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(5987),s=n(9439),r=n(2791),a=n(5736),o=n(7798),d=n(2576),l=n(3360),u=n(7022),c=n(9140),p=n(9743),v=n(2677),h=n(4849),j=n(9230),x=n(8820),f=n(1087),m=n(9126),Z=n(6053),b=n(1724),y=n(38),N=n(283),D=n(1828),R=n(396),g=n(5316),E=n(184),S=function(e){var t=e.show,n=e.handleClose,i=e.singleSubjectRepetition;console.log(i);var s=(0,j.$G)().t;return(0,E.jsxs)(g.Z,{show:t,onHide:n,children:[(0,E.jsx)(g.Z.Header,{closeButton:!0,children:(0,E.jsxs)(g.Z.Title,{children:[s("id"),": ",i.studentID]})}),(0,E.jsxs)(g.Z.Body,{children:[(0,E.jsxs)("p",{children:[s("name"),": ",i.studentName]}),(0,E.jsxs)("p",{children:[s("session CGPA"),": ",i.sessionCGPA]}),(0,E.jsxs)("p",{children:[s("roll No"),": ",i.rollNo]}),(0,E.jsxs)("p",{children:[s("session"),": ",i.session]}),(0,E.jsxs)("p",{children:[s("session registration"),": ",i.sessionRegistration]})]}),(0,E.jsx)(g.Z.Footer,{children:(0,E.jsx)(l.Z,{variant:"primary",onClick:n,children:s("close")})})]})},C=["id","createdAt","updatedAt","studentID"],k=function(){var e,t=(0,r.useState)(!1),n=(0,s.Z)(t,2),g=n[0],k=n[1],w=(0,r.useState)({}),A=(0,s.Z)(w,2),I=A[0],P=A[1],T=(0,R.IQ)().data,G=(0,y.Ek)(),H=(0,s.Z)(G,1)[0],U=(0,j.$G)().t,L=(0,y.tK)(),q=L.data,M=L.isLoading,Q=(0,y.ir)(),z=(0,s.Z)(Q,1)[0],B=(null===q||void 0===q?void 0:q.data)||[],F=function(e){P(e),k(!0)},$=[{Header:"#",accessor:function(e,t){return t+1},sort:!0},{Header:U("student id"),accessor:function(e){return(0,E.jsxs)("span",{className:"ms-1",children:[" ",e.studentID]})},sort:!0},{Header:U("name"),accessor:function(e){return(0,E.jsxs)("span",{className:"ms-1",children:[" ",e.studentName]})},sort:!0},{Header:U("roll"),accessor:function(e){return e.rollNo},sort:!0},{Header:U("session"),accessor:function(e){return e.session},sort:!0},{Header:U("session registration"),accessor:function(e){return(0,E.jsxs)("span",{className:"ms-1",children:[" ",e.sessionRegistration]})},sort:!0},{Header:U("session CGPA"),accessor:function(e){return(0,E.jsxs)("span",{className:"ms-1",children:[" ",e.sessionCGPA]})},sort:!0},{Header:U("status"),accessor:function(e){return(0,E.jsx)("div",{className:"bodySmall",children:"PENDING"===(null===e||void 0===e?void 0:e.status)?(0,E.jsx)(a.Z,{bg:"primary",pill:!0,children:(0,E.jsx)("span",{className:"ms-1",children:U(null===e||void 0===e?void 0:e.status)})}):"REJECTED"===(null===e||void 0===e?void 0:e.status)?(0,E.jsx)(a.Z,{bg:"danger",pill:!0,children:(0,E.jsx)("span",{className:"ms-1",children:U(null===e||void 0===e?void 0:e.status)})}):"APPROVED"===(null===e||void 0===e?void 0:e.status)?(0,E.jsx)(a.Z,{bg:"success",pill:!0,children:(0,E.jsx)("span",{className:"ms-1",children:U(null===e||void 0===e?void 0:e.status)})}):""})},sort:!0},{Header:U("action"),accessor:function(e){var t,n,s,r,a;return(0,E.jsxs)("div",{className:"bodySmall",children:[(0,E.jsx)(o.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(d.Z,{id:"button-tooltip",children:U("view")}),children:(0,E.jsx)(l.Z,{variant:"primary",style:{padding:"5px 10px"},onClick:function(){return F(e)},children:(0,E.jsx)(x.$aU,{})})}),"STUDENT"!==(null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.role)&&(0,E.jsx)(o.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(d.Z,{id:"button-tooltip",children:U("status")}),children:(0,E.jsx)(l.Z,{className:"mr-10",variant:"warning",style:{padding:"5px 10px"},onClick:function(){return function(e){var t=e.id,n=(e.createdAt,e.updatedAt,e.studentID,(0,i.Z)(e,C));D.Z.StatusUpdate(t,n,H)}(e)},children:(0,E.jsx)(Z.aXP,{})})}),(0,E.jsx)(o.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(d.Z,{id:"button-tooltip",children:U("edit")}),children:(0,E.jsx)(f.rU,{to:"/subject-repetition-create-update?id=".concat(null===e||void 0===e?void 0:e.id),onClick:function(t){var n,i;return"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===T||void 0===T||null===(n=T.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===T||void 0===T||null===(i=T.data)||void 0===i?void 0:i.role)?t.preventDefault():void 0},children:(0,E.jsx)(l.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===T||void 0===T||null===(n=T.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===T||void 0===T||null===(s=T.data)||void 0===s?void 0:s.role),children:(0,E.jsx)(x.$iz,{})})})}),(0,E.jsx)(o.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(d.Z,{id:"button-tooltip",children:U("delete")}),children:(0,E.jsx)(l.Z,{variant:"danger",style:{padding:"5px 10px"},onClick:function(){return t=e.id,void D.Z.Delete(t,z);var t},disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===T||void 0===T||null===(r=T.data)||void 0===r?void 0:r.role)||"ADMIN"===(null===T||void 0===T||null===(a=T.data)||void 0===a?void 0:a.role),children:(0,E.jsx)(m.yvY,{})})})]})}}],K=[{text:U("5"),value:5},{text:U("10"),value:10},{text:U("25"),value:25},{text:U("all"),value:null===B||void 0===B?void 0:B.length}];return(0,E.jsxs)(b.Z,{children:[(0,E.jsx)(u.Z,{children:(0,E.jsx)(c.Z,{children:(0,E.jsx)(c.Z.Body,{children:(0,E.jsxs)(p.Z,{children:[(0,E.jsxs)(v.Z,{className:"d-flex justify-content-between p-2",sm:12,children:[(0,E.jsx)("h5",{children:U("subject repetition")}),(0,E.jsx)(f.rU,{to:"/subject-repetition-create-update",onClick:function(e){var t;return"ADMIN"===(null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.role)?e.preventDefault():void 0},children:(0,E.jsx)(l.Z,{size:"sm",variant:"primary",disabled:"ADMIN"===(null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.role),children:U("create subject repetition")})})]}),(0,E.jsx)(v.Z,{sm:12,children:M?(0,E.jsx)(h.Z,{size:"lg",variant:"primary"}):null!==B&&void 0!==B&&B.length?(0,E.jsx)(N.Z,{columns:$,data:B,pageSize:5,sizePerPageList:K,isSortable:!0,pagination:!0}):U("no data found")})]})})})}),(0,E.jsx)(S,{singleSubjectRepetition:I,show:g,handleClose:function(){return k(!1)}})]})}}}]);
//# sourceMappingURL=900.94ff4170.chunk.js.map