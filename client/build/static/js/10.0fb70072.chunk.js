"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[10],{1660:function(e,s,n){n.d(s,{Kk:function(){return l},rB:function(){return u},u_:function(){return o},zQ:function(){return d}});var r=n(4165),t=n(5861),i=n(7218),a=i.E.injectEndpoints({endpoints:function(e){return{insCoursesList:e.query({query:function(){return{url:"insCourses/insCoursesList",method:"GET"}}}),insCoursesCreate:e.mutation({query:function(e){return{url:"insCourses/insCoursesCreate",method:"POST",body:e}},onQueryStarted:function(e,s){return(0,t.Z)((0,r.Z)().mark((function e(){var n,t,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.dispatch,t=s.queryFulfilled,e.prev=1,e.next=4,t;case 4:a=e.sent,o=a.data,n(i.E.util.updateQueryData("insCoursesList",void 0,(function(e){e.data.push(o.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),insCoursesUpdate:e.mutation({query:function(e){var s=e.id,n=e.postBody;return{url:"insCourses/insCoursesUpdate/".concat(s),method:"PATCH",body:n}},onQueryStarted:function(e,s){return(0,t.Z)((0,r.Z)().mark((function n(){var t,a,o,u,d;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,e.postBody,a=s.dispatch,o=s.queryFulfilled,n.prev=2,n.next=5,o;case 5:u=n.sent,d=u.data,a(i.E.util.updateQueryData("insCoursesList",void 0,(function(e){var s,n,r,i,a,o=e.data.findIndex((function(e){return e.id===t}));e.data[o].insCoursesCode=null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.insCoursesCode,e.data[o].insCoursesName=null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.insCoursesName,e.data[o].insCoursesInstructor=null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.insCoursesInstructor,e.data[o].seatsLimit=null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.seatsLimit,e.data[o].registrationDeadline=null===d||void 0===d||null===(a=d.data)||void 0===a?void 0:a.registrationDeadline}))),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),insCoursesDelete:e.mutation({query:function(e){return{url:"insCourses/insCoursesDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,s){return(0,t.Z)((0,r.Z)().mark((function n(){var t,a,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=s.dispatch,a=s.queryFulfilled,o=t(i.E.util.updateQueryData("insCoursesList",void 0,(function(s){s.data=s.data.filter((function(s){return s.id!==e}))}))),n.prev=2,n.next=5,a;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),o.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}}),o=a.useInsCoursesCreateMutation,u=a.useInsCoursesListQuery,d=a.useInsCoursesUpdateMutation,l=a.useInsCoursesDeleteMutation},7010:function(e,s,n){n.r(s);var r=n(9439),t=n(2791),i=n(7689),a=n(7022),o=n(9140),u=n(9743),d=n(2677),l=n(5630),c=n(3360),C=n(4849),m=n(9230),f=n(1134),h=n(4695),I=n(8007),x=n(1724),v=n(1660),p=n(1239),Z=n(184);s.default=function(){var e=(0,t.useState)(null),s=(0,r.Z)(e,2),n=s[0],j=s[1],g=(0,t.useState)({InsCoursesCode:"",InsCoursesName:"",InsCoursesInstructor:"",seatsLimit:0,registrationDeadline:(0,p.p6)(new Date)}),y=(0,r.Z)(g,2),L=y[0],b=y[1],N=(0,m.$G)().t,D=(0,i.s0)(),q=(0,v.rB)().data,w=(0,v.u_)(),Q=(0,r.Z)(w,2),E=Q[0],S=Q[1],k=S.isLoading,B=S.isSuccess,T=(0,v.zQ)(),z=(0,r.Z)(T,2),G=z[0],M=z[1],V=M.isLoading,_=M.isSuccess;(0,t.useEffect)((function(){var e,s=new URLSearchParams(window.location.search).get("id");(null!==s&&j(s),n&&q)&&b(null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.find((function(e){return e.id===n})))}),[n,q]);var F=(0,f.cI)({mode:"onChange",defaultValues:L,resolver:(0,h.X)(I.Ry({InsCoursesCode:I.Z_().required(N("InsInsCoursesname is required")),InsCoursesName:I.Z_().required(N("InsInsCoursesname is required")),InsCoursesInstructor:I.Z_().required(N("InsInsCoursesinstructor is required")),seatsLimit:I.Rx(N("seats limit is required")).required(N("seats limit is required")).min(1,"seats limit must be greater than or equal to 1"),registrationDeadline:I.hT().required(N("InsInsCoursesregistration deadline is required"))}))}),Y=F.control,P=F.handleSubmit,R=F.reset,U=(F.watch,F.setValue,F.formState.errors);(0,t.useEffect)((function(){L&&R(L)}),[L]);return(0,t.useEffect)((function(){(B||_)&&D("/elective-InsCourses")}),[B,_]),(0,Z.jsx)(x.Z,{children:(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(o.Z.Body,{children:(0,Z.jsxs)(u.Z,{children:[(0,Z.jsx)("h5",{children:N("".concat(n?"update InsCourses":"save InsCourses"))}),(0,Z.jsx)("hr",{className:"bg-light"}),(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(l.Z,{onSubmit:P((function(e){var s={InsCoursesCode:e.InsCoursesCode,InsCoursesName:e.InsCoursesName,InsCoursesInstructor:e.InsCoursesInstructor,seatsLimit:e.seatsLimit,registrationDeadline:e.registrationDeadline};n?G({id:n,postBody:s}):E(s)})),onReset:R,children:[(0,Z.jsxs)(u.Z,{class:!0,children:[(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"InsCoursesCode",children:[(0,Z.jsx)(l.Z.Label,{children:N("InsInsCoursescode")}),(0,Z.jsx)(f.Qr,{control:Y,name:"InsCoursesCode",render:function(e){var s=e.field,n=s.onChange,r=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:n,defaultValue:r,ref:t,isInvalid:U.InsCoursesCode,placeholder:N("InsInsCoursescode of the InsCourses"),type:"text",size:"sm"})}}),U.InsCoursesCode&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.InsCoursesCode.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"InsCoursesName",children:[(0,Z.jsx)(l.Z.Label,{children:N("InsInsCoursesname")}),(0,Z.jsx)(f.Qr,{control:Y,name:"InsCoursesName",render:function(e){var s=e.field,n=s.onChange,r=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:n,defaultValue:r,ref:t,isInvalid:U.InsCoursesName,placeholder:N("InsInsCoursesname of the InsCourses"),type:"text",size:"sm"})}}),U.InsCoursesName&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.InsCoursesName.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"InsCoursesInstructor",children:[(0,Z.jsx)(l.Z.Label,{children:N("InsInsCoursesinstructor")}),(0,Z.jsx)(f.Qr,{control:Y,name:"InsCoursesInstructor",render:function(e){var s=e.field,n=s.onChange,r=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:n,defaultValue:r,ref:t,isInvalid:U.InsCoursesInstructor,placeholder:N("InsInsCoursesinstructor of the InsCourses"),type:"text",size:"sm"})}}),U.InsCoursesInstructor&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.InsCoursesInstructor.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"seatsLimit",children:[(0,Z.jsx)(l.Z.Label,{children:N("seats limit")}),(0,Z.jsx)(f.Qr,{control:Y,name:"seatsLimit",render:function(e){var s=e.field,n=s.onChange,r=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:n,defaultValue:r,ref:t,isInvalid:U.seatsLimit,placeholder:N("seats limit of the InsCourses"),type:"number",size:"sm"})}}),U.seatsLimit&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.seatsLimit.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"registrationDeadline",children:[(0,Z.jsx)(l.Z.Label,{children:N("registration deadline")}),(0,Z.jsx)(f.Qr,{control:Y,name:"registrationDeadline",render:function(e){var s=e.field,n=s.onChange,r=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:n,defaultValue:r,ref:t,isInvalid:U.registrationDeadline,type:"date",size:"sm"})}}),U.registrationDeadline&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.registrationDeadline.message})]})})]}),(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsx)(c.Z,{size:"sm",className:"mt-2",type:"submit",children:k||V?(0,Z.jsx)(C.Z,{size:"sm",color:"light"}):N("save change")})})})]})})]})})})})})}},1239:function(e,s,n){n.d(s,{p6:function(){return a}});n(2791);var r=n(6431),t=n.n(r),i=n(184);function a(e){var s=new Date(e),n=""+(s.getMonth()+1),r=""+s.getDate(),t=s.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[t,n,r].join("-")}s.ZP=function(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t(),{format:"D MMM YYYY",withTitle:!0,children:e})," ",(0,i.jsx)("br",{})]})}}}]);
//# sourceMappingURL=10.0fb70072.chunk.js.map