"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[7854],{9180:function(e,s,r){r.d(s,{Mr:function(){return o},e9:function(){return l},mX:function(){return i},rb:function(){return m},vu:function(){return c}});var n=r(4165),t=r(5861),u=r(7218),a=u.E.injectEndpoints({endpoints:function(e){return{summerAssessmentList:e.query({query:function(){return{url:"summerAssessment/summerAssessmentList",method:"GET"}}}),summerAssessmentCreate:e.mutation({query:function(e){return{url:"summerAssessment/summerAssessmentCreate",method:"POST",body:e}},onQueryStarted:function(e,s){return(0,t.Z)((0,n.Z)().mark((function e(){var r,t,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.dispatch,t=s.queryFulfilled,e.prev=1,e.next=4,t;case 4:a=e.sent,i=a.data,r(u.E.util.updateQueryData("summerAssessmentList",void 0,(function(e){e.data.push(i.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),summerAssessmentApply:e.mutation({query:function(e){var s=e.id,r=e.enrolls;return{url:"summerAssessment/summerAssessmentApply/".concat(s),method:"PATCH",body:{enrolls:r}}},onQueryStarted:function(e,s){return(0,t.Z)((0,n.Z)().mark((function r(){var t,u;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.id,e.enrolls,s.dispatch,t=s.queryFulfilled,r.prev=2,r.next=5,t;case 5:u=r.sent,u.data&&window.location.reload(),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:case"end":return r.stop()}}),r,null,[[2,10]])})))()}}),summerAssessmentUpdate:e.mutation({query:function(e){var s=e.id,r=e.postBody;return{url:"summerAssessment/summerAssessmentUpdate/".concat(s),method:"PATCH",body:r}},onQueryStarted:function(e,s){return(0,t.Z)((0,n.Z)().mark((function r(){var t,a,i,o,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,e.postBody,a=s.dispatch,i=s.queryFulfilled,r.prev=2,r.next=5,i;case 5:o=r.sent,c=o.data,a(u.E.util.updateQueryData("summerAssessmentList",void 0,(function(e){var s=e.data.findIndex((function(e){return e.id===t}));e.data[s].name=null===c||void 0===c?void 0:c.data.name}))),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:case"end":return r.stop()}}),r,null,[[2,10]])})))()}}),summerAssessmentDelete:e.mutation({query:function(e){return{url:"summerAssessment/summerAssessmentDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,s){return(0,t.Z)((0,n.Z)().mark((function r(){var t,a,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.dispatch,a=s.queryFulfilled,i=t(u.E.util.updateQueryData("summerAssessmentList",void 0,(function(s){s.data=s.data.filter((function(s){return s.id!==e}))}))),r.prev=2,r.next=5,a;case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),i.undo();case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()}})}}}),i=a.useSummerAssessmentCreateMutation,o=a.useSummerAssessmentApplyMutation,c=a.useSummerAssessmentListQuery,l=a.useSummerAssessmentUpdateMutation,m=a.useSummerAssessmentDeleteMutation},7854:function(e,s,r){r.r(s);var n=r(1413),t=r(9439),u=r(2791),a=r(7689),i=r(7022),o=r(9140),c=r(9743),l=r(2677),m=r(5630),d=r(3360),h=r(4849),p=r(9230),v=r(1134),x=r(4695),f=r(8007),j=r(1724),Z=r(9180),g=r(396),y=r(184);s.default=function(){var e=(0,p.$G)().t,s=(0,a.s0)(),r=(0,Z.vu)(),S=r.data,A=(r.isLoading,(0,Z.Mr)()),b=(0,t.Z)(A,2),N=b[0],q=b[1],C=q.isLoading,w=q.isSuccess,L=(0,g.IQ)().data,Q=(null===S||void 0===S?void 0:S.data)||[],T=(0,v.cI)({mode:"onChange",defaultValues:{},resolver:(0,x.X)(f.Ry({coursesName:f.Z_().required(e("courses name is required")),degree:f.Z_().required(e("degree is required")),currentSemester:f.Z_().required(e("currentSemester is required")),motive:f.Z_().required(e("motive is required"))}))}),k=T.control,E=T.handleSubmit,I=T.reset,_=(T.watch,T.setValue,T.formState.errors);return(0,u.useEffect)((function(){w&&s("/summer-assessment-student")}),[w]),(0,y.jsx)(j.Z,{children:(0,y.jsx)(i.Z,{children:(0,y.jsx)(o.Z,{children:(0,y.jsx)(o.Z.Body,{children:(0,y.jsxs)(c.Z,{children:[(0,y.jsx)("h5",{children:e("apply summer assessments")}),(0,y.jsx)("hr",{className:"bg-light"}),(0,y.jsx)(l.Z,{children:(0,y.jsxs)(m.Z,{onSubmit:E((function(e){var s,r=e.coursesName,t={coursesName:r,degree:e.degree,currentSemester:e.currentSemester,motive:e.motive,session:null===L||void 0===L||null===(s=L.data)||void 0===s?void 0:s.session};N({id:r.split("_")[1],enrolls:(0,n.Z)((0,n.Z)({},t),{},{coursesName:r.split("_")[1],coursesNameI:r.split("_")[0]})})})),onReset:I,children:[(0,y.jsxs)(c.Z,{class:!0,children:[(0,y.jsx)(l.Z,{sm:4,children:(0,y.jsxs)(m.Z.Group,{className:"mb-3",controlId:"coursesName",children:[(0,y.jsx)(m.Z.Label,{children:e("courses name")}),(0,y.jsx)(v.Qr,{control:k,name:"coursesName",render:function(s){var r=s.field,n=r.onChange,t=(r.onBlur,r.value),u=r.ref;return(0,y.jsxs)(m.Z.Select,{onChange:n,value:t,ref:u,isInvalid:_.status,placeholder:e("courses name of the summer assessment"),type:"text",size:"sm",children:[(0,y.jsx)("option",{value:"",children:e("choice courses name")}),null===Q||void 0===Q?void 0:Q.map((function(s){return(0,y.jsx)("option",{value:s.name+"_"+s.id,children:e(s.name)})}))]})}}),_.coursesName&&(0,y.jsx)(m.Z.Text,{className:"text-danger",children:_.coursesName.message})]})}),(0,y.jsx)(l.Z,{sm:4,children:(0,y.jsxs)(m.Z.Group,{className:"mb-3",controlId:"degree",children:[(0,y.jsx)(m.Z.Label,{children:e("degree program")}),(0,y.jsx)(v.Qr,{control:k,name:"degree",render:function(s){var r=s.field,n=r.onChange,t=(r.onBlur,r.value),u=r.ref;return(0,y.jsxs)(m.Z.Select,{onChange:n,value:t,ref:u,isInvalid:_.status,placeholder:e("degree program of the summer assessment"),type:"text",size:"sm",children:[(0,y.jsx)("option",{value:"",children:e("choice degree program")}),(0,y.jsx)("option",{value:"BSCS",children:e("BSCS")}),(0,y.jsx)("option",{value:"SE",children:e("SE")})]})}}),_.degree&&(0,y.jsx)(m.Z.Text,{className:"text-danger",children:_.degree.message})]})}),(0,y.jsx)(l.Z,{sm:4,children:(0,y.jsxs)(m.Z.Group,{className:"mb-3",controlId:"currentSemester",children:[(0,y.jsx)(m.Z.Label,{children:e("currentSemester")}),(0,y.jsx)(v.Qr,{control:k,name:"currentSemester",render:function(s){var r=s.field,n=r.onChange,t=(r.onBlur,r.value),u=r.ref;return(0,y.jsxs)(m.Z.Select,{onChange:n,value:t,ref:u,isInvalid:_.status,placeholder:e("current semester of the summer assessment"),type:"text",size:"sm",children:[(0,y.jsx)("option",{value:"",children:e("choice current semester")}),(0,y.jsx)("option",{value:"1",children:e("2")}),(0,y.jsx)("option",{value:"2",children:e("2")}),(0,y.jsx)("option",{value:"3",children:e("3")}),(0,y.jsx)("option",{value:"4",children:e("4")}),(0,y.jsx)("option",{value:"5",children:e("5")}),(0,y.jsx)("option",{value:"6",children:e("6")}),(0,y.jsx)("option",{value:"7",children:e("7")}),(0,y.jsx)("option",{value:"8",children:e("8")}),(0,y.jsx)("option",{value:"9",children:e("9")}),(0,y.jsx)("option",{value:"10",children:e("10")})]})}}),_.currentSemester&&(0,y.jsx)(m.Z.Text,{className:"text-danger",children:_.currentSemester.message})]})}),(0,y.jsx)(l.Z,{sm:4,children:(0,y.jsxs)(m.Z.Group,{className:"mb-3",controlId:"motive",children:[(0,y.jsx)(m.Z.Label,{children:e("motive")}),(0,y.jsx)(v.Qr,{control:k,name:"motive",render:function(s){var r=s.field,n=r.onChange,t=(r.onBlur,r.value),u=r.ref;return(0,y.jsxs)(m.Z.Select,{onChange:n,value:t,ref:u,isInvalid:_.status,placeholder:e("motive of the summer assessment"),type:"text",size:"sm",children:[(0,y.jsx)("option",{value:"",children:e("choice motive")}),(0,y.jsx)("option",{value:"To improve",children:e("To improve")}),(0,y.jsx)("option",{value:"To pass",children:e("To pass")})]})}}),_.motive&&(0,y.jsx)(m.Z.Text,{className:"text-danger",children:_.motive.message})]})})]}),(0,y.jsx)(c.Z,{children:(0,y.jsx)(l.Z,{sm:4,children:(0,y.jsx)(d.Z,{size:"sm",className:"mt-2",type:"submit",children:C?(0,y.jsx)(h.Z,{size:"sm",color:"light"}):e("save change")})})})]})})]})})})})})}}}]);
//# sourceMappingURL=7854.819b6632.chunk.js.map