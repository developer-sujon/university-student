"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[266],{5940:function(e,t,n){n.d(t,{EL:function(){return d},JS:function(){return u},_j:function(){return o},bt:function(){return l}});var s=n(4165),i=n(5861),a=n(7218),r=a.E.injectEndpoints({endpoints:function(e){return{scholarshipList:e.query({query:function(){return{url:"scholarship/scholarshipList",method:"GET"}}}),scholarshipCreate:e.mutation({query:function(e){return{url:"scholarship/scholarshipCreate",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,i.Z)((0,s.Z)().mark((function e(){var n,i,r,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,i=t.queryFulfilled,e.prev=1,e.next=4,i;case 4:r=e.sent,l=r.data,n(a.E.util.updateQueryData("scholarshipList",void 0,(function(e){e.data.push(l.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),scholarshipUpdate:e.mutation({query:function(e){var t=e.id,n=e.postBody;return{url:"scholarship/scholarshipUpdate/".concat(t),method:"PATCH",body:n}},onQueryStarted:function(e,t){return(0,i.Z)((0,s.Z)().mark((function n(){var i,r,l,d,o,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.id,r=e.postBody,l=t.dispatch,d=t.queryFulfilled,n.prev=2,n.next=5,d;case 5:o=n.sent,u=o.data,l(a.E.util.updateQueryData("scholarshipList",void 0,(function(e){var t,n=e.data.findIndex((function(e){return e.id===i}));e.data[n].description=r.description,e.data[n].scholarshipType=r.scholarshipType,e.data[n].status=null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.status,e.data[n].studentID=r.studentID,e.data[n].subject=r.subject}))),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),scholarshipDelete:e.mutation({query:function(e){return{url:"scholarship/scholarshipDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,t){return(0,i.Z)((0,s.Z)().mark((function n(){var i,r,l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.dispatch,r=t.queryFulfilled,l=i(a.E.util.updateQueryData("scholarshipList",void 0,(function(t){t.data=t.data.filter((function(t){return t.id!==e}))}))),n.prev=2,n.next=5,r;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),l.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}}),l=r.useScholarshipCreateMutation,d=r.useScholarshipListQuery,o=r.useScholarshipUpdateMutation,u=r.useScholarshipDeleteMutation},266:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var s=n(5987),i=n(9439),a=n(2791),r=n(5736),l=n(7798),d=n(2576),o=n(3360),u=n(7022),c=n(9140),h=n(9743),p=n(2677),v=n(4849),x=n(9230),f=n(8820),j=n(1087),y=n(9126),m=n(6053),Z=n(1724),D=n(5940),N=n(283),b=n(1828),E=n(396),S=n(5316),g=n(184),w=function(e){var t=e.show,n=e.handleClose,s=e.singleScholarship,i=(0,x.$G)().t;return(0,g.jsxs)(S.Z,{show:t,onHide:n,children:[(0,g.jsx)(S.Z.Header,{closeButton:!0,children:(0,g.jsxs)(S.Z.Title,{children:[i("student id"),": ",null===s||void 0===s?void 0:s.studentID]})}),(0,g.jsxs)(S.Z.Body,{children:[(0,g.jsxs)("p",{children:[i("subject"),": ",null===s||void 0===s?void 0:s.subject]}),(0,g.jsxs)("p",{children:[i("scholarship type"),": ",null===s||void 0===s?void 0:s.scholarshipType]}),(0,g.jsxs)("p",{children:[i("description"),": ",null===s||void 0===s?void 0:s.description]})]}),(0,g.jsx)(S.Z.Footer,{children:(0,g.jsx)(o.Z,{variant:"primary",onClick:n,children:i("close")})})]})},T=["id","createdAt","updatedAt","studentID"],I=function(){var e,t=(0,a.useState)({}),n=(0,i.Z)(t,2),S=n[0],I=n[1],k=(0,a.useState)(!1),C=(0,i.Z)(k,2),A=C[0],L=C[1],P=(0,E.IQ)().data,U=(0,D._j)(),H=(0,i.Z)(U,1)[0],q=(0,x.$G)().t,M=(0,D.EL)(),Q=M.data,G=M.isLoading,z=(0,D.JS)(),B=(0,i.Z)(z,1)[0],F=(null===Q||void 0===Q?void 0:Q.data)||[],$=function(e){I(e),L(!0)},_=[{Header:"#",accessor:function(e,t){return t+1},sort:!0},{Header:q("student id"),accessor:function(e){return(0,g.jsxs)("span",{className:"ms-1",children:[" ",e.studentID]})},sort:!0},{Header:q("subject"),accessor:function(e){return(0,g.jsxs)("span",{className:"ms-1",children:[" ",e.subject]})},sort:!0},{Header:q("scholarship type"),accessor:function(e){return(0,g.jsxs)("span",{className:"ms-1",children:[" ",e.scholarshipType]})},sort:!0},{Header:q("description"),accessor:function(e){return(0,g.jsxs)("span",{className:"ms-1",children:[" ",e.description]})},sort:!0},{Header:q("status"),accessor:function(e){return(0,g.jsx)("div",{className:"bodySmall",children:"PENDING"===(null===e||void 0===e?void 0:e.status)?(0,g.jsx)(r.Z,{bg:"primary",pill:!0,children:(0,g.jsx)("span",{className:"ms-1",children:q(null===e||void 0===e?void 0:e.status)})}):"REJECTED"===(null===e||void 0===e?void 0:e.status)?(0,g.jsx)(r.Z,{bg:"danger",pill:!0,children:(0,g.jsx)("span",{className:"ms-1",children:q(null===e||void 0===e?void 0:e.status)})}):"APPROVED"===(null===e||void 0===e?void 0:e.status)?(0,g.jsx)(r.Z,{bg:"success",pill:!0,children:(0,g.jsx)("span",{className:"ms-1",children:q(null===e||void 0===e?void 0:e.status)})}):""})},sort:!0},{Header:q("action"),accessor:function(e){var t,n,i,a,r;return(0,g.jsxs)("div",{className:"bodySmall",children:[(0,g.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(d.Z,{id:"button-tooltip",children:q("view")}),children:(0,g.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},onClick:function(){return $(e)},children:(0,g.jsx)(f.$aU,{})})}),"STUDENT"!==(null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.role)&&(0,g.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(d.Z,{id:"button-tooltip",children:q("status")}),children:(0,g.jsx)(o.Z,{className:"mr-10",variant:"warning",style:{padding:"5px 10px"},onClick:function(){return function(e){var t=e.id,n=(e.createdAt,e.updatedAt,e.studentID,(0,s.Z)(e,T));b.Z.StatusUpdate(t,n,H)}(e)},children:(0,g.jsx)(m.aXP,{})})}),(0,g.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(d.Z,{id:"button-tooltip",children:q("edit")}),children:(0,g.jsx)(j.rU,{to:"/scholarship-create-update?id=".concat(null===e||void 0===e?void 0:e.id),onClick:function(t){var n,s;return"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===P||void 0===P||null===(n=P.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===P||void 0===P||null===(s=P.data)||void 0===s?void 0:s.role)?t.preventDefault():void 0},children:(0,g.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===P||void 0===P||null===(n=P.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===P||void 0===P||null===(i=P.data)||void 0===i?void 0:i.role),children:(0,g.jsx)(f.$iz,{})})})}),(0,g.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(d.Z,{id:"button-tooltip",children:q("delete")}),children:(0,g.jsx)(o.Z,{variant:"danger",style:{padding:"5px 10px"},onClick:function(){return t=e.id,void b.Z.Delete(t,B);var t},disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===P||void 0===P||null===(a=P.data)||void 0===a?void 0:a.role)||"ADMIN"===(null===P||void 0===P||null===(r=P.data)||void 0===r?void 0:r.role),children:(0,g.jsx)(y.yvY,{})})})]})}}],J=[{text:q("5"),value:5},{text:q("10"),value:10},{text:q("25"),value:25},{text:q("all"),value:null===F||void 0===F?void 0:F.length}];return(0,g.jsxs)(Z.Z,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(c.Z.Body,{children:(0,g.jsxs)(h.Z,{children:[(0,g.jsxs)(p.Z,{className:"d-flex justify-content-between p-2",sm:12,children:[(0,g.jsx)("h5",{children:q("scholarship")}),(0,g.jsx)(j.rU,{to:"/scholarship-create-update",onClick:function(e){var t;return"ADMIN"===(null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.role)?e.preventDefault():void 0},children:(0,g.jsx)(o.Z,{size:"sm",variant:"primary",disabled:"ADMIN"===(null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.role),children:q("create scholarship")})})]}),(0,g.jsx)(p.Z,{sm:12,children:G?(0,g.jsx)(v.Z,{size:"lg",variant:"primary"}):null!==F&&void 0!==F&&F.length?(0,g.jsx)(N.Z,{columns:_,data:F,pageSize:5,sizePerPageList:J,isSortable:!0,pagination:!0}):q("no data found")})]})})})}),(0,g.jsx)(w,{singleScholarship:S,show:A,handleClose:function(){return L(!1)}})]})}}}]);
//# sourceMappingURL=266.aa96629a.chunk.js.map