"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[588],{6378:function(e,t,n){n.d(t,{FE:function(){return o},ds:function(){return l},fw:function(){return u},kX:function(){return a}});var r=n(4165),i=n(5861),s=n(7218),d=s.E.injectEndpoints({endpoints:function(e){return{othersList:e.query({query:function(){return{url:"others/othersList",method:"GET"}}}),othersCreate:e.mutation({query:function(e){return{url:"others/othersCreate",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,i.Z)((0,r.Z)().mark((function e(){var n,i,d,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,i=t.queryFulfilled,e.prev=1,e.next=4,i;case 4:d=e.sent,a=d.data,n(s.E.util.updateQueryData("othersList",void 0,(function(e){e.data.push(a.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),othersUpdate:e.mutation({query:function(e){var t=e.id,n=e.postBody;return{url:"others/othersUpdate/".concat(t),method:"PATCH",body:n}},onQueryStarted:function(e,t){return(0,i.Z)((0,r.Z)().mark((function n(){var i,d,a,o,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.id,e.postBody,d=t.dispatch,a=t.queryFulfilled,n.prev=2,n.next=5,a;case 5:o=n.sent,l=o.data,d(s.E.util.updateQueryData("othersList",void 0,(function(e){var t,n,r,s,d=e.data.findIndex((function(e){return e.id===i}));e.data[d].description=null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.description,e.data[d].status=null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.status,e.data[d].subject=null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.subject,e.data[d].studentID=null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.studentID}))),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),othersDelete:e.mutation({query:function(e){return{url:"others/othersDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,t){return(0,i.Z)((0,r.Z)().mark((function n(){var i,d,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.dispatch,d=t.queryFulfilled,a=i(s.E.util.updateQueryData("othersList",void 0,(function(t){t.data=t.data.filter((function(t){return t.id!==e}))}))),n.prev=2,n.next=5,d;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),a.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}}),a=d.useOthersCreateMutation,o=d.useOthersListQuery,l=d.useOthersUpdateMutation,u=d.useOthersDeleteMutation},9588:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(5987),i=n(9439),s=n(2791),d=n(5736),a=n(7798),o=n(2576),l=n(3360),u=n(7022),c=n(9140),v=n(9743),h=n(2677),p=n(4849),x=n(9230),f=n(8820),j=n(1087),Z=n(9126),m=n(6053),y=n(1724),D=n(6378),N=n(283),b=n(1828),E=n(396),w=n(5316),g=n(184),k=function(e){var t=e.show,n=e.handleClose,r=e.singleOthers,i=(0,x.$G)().t;return(0,g.jsxs)(w.Z,{show:t,onHide:n,children:[(0,g.jsx)(w.Z.Header,{closeButton:!0,children:(0,g.jsxs)(w.Z.Title,{children:[i("student id"),": ",null===r||void 0===r?void 0:r.studentID]})}),(0,g.jsxs)(w.Z.Body,{children:[(0,g.jsxs)("p",{children:[i("subject"),": ",null===r||void 0===r?void 0:r.subject]}),(0,g.jsxs)("p",{children:[i("scholarship type"),": ",null===r||void 0===r?void 0:r.scholarshipType]}),(0,g.jsxs)("p",{children:[i("description"),": ",null===r||void 0===r?void 0:r.description]})]}),(0,g.jsx)(w.Z.Footer,{children:(0,g.jsx)(l.Z,{variant:"primary",onClick:n,children:i("close")})})]})},I=["id","createdAt","updatedAt","studentID"],C=function(){var e,t=(0,s.useState)({}),n=(0,i.Z)(t,2),w=n[0],C=n[1],S=(0,E.IQ)().data,T=(0,D.ds)(),A=(0,i.Z)(T,1)[0],P=(0,s.useState)(!1),U=(0,i.Z)(P,2),O=U[0],H=U[1],L=(0,x.$G)().t,q=(0,D.FE)(),M=q.data,Q=q.isLoading,G=(0,D.fw)(),F=(0,i.Z)(G,1)[0],z=(null===M||void 0===M?void 0:M.data)||[],B=function(e){C(e),H(!0)},$=[{Header:"#",accessor:function(e,t){return t+1},sort:!0},{Header:L("student id"),accessor:function(e){return(0,g.jsxs)("span",{className:"ms-1",children:[" ",e.studentID]})},sort:!0},{Header:L("subject"),accessor:function(e){return(0,g.jsxs)("span",{className:"ms-1",children:[" ",e.subject]})},sort:!0},{Header:L("description"),accessor:function(e){return(0,g.jsxs)("span",{className:"ms-1",children:[" ",e.description]})},sort:!0},{Header:L("status"),accessor:function(e){return(0,g.jsx)("div",{className:"bodySmall",children:"PENDING"===(null===e||void 0===e?void 0:e.status)?(0,g.jsx)(d.Z,{bg:"primary",pill:!0,children:(0,g.jsx)("span",{className:"ms-1",children:L(null===e||void 0===e?void 0:e.status)})}):"REJECTED"===(null===e||void 0===e?void 0:e.status)?(0,g.jsx)(d.Z,{bg:"danger",pill:!0,children:(0,g.jsx)("span",{className:"ms-1",children:L(null===e||void 0===e?void 0:e.status)})}):"APPROVED"===(null===e||void 0===e?void 0:e.status)?(0,g.jsx)(d.Z,{bg:"success",pill:!0,children:(0,g.jsx)("span",{className:"ms-1",children:L(null===e||void 0===e?void 0:e.status)})}):""})},sort:!0},{Header:L("action"),accessor:function(e){var t,n,i,s,d;return(0,g.jsxs)("div",{className:"bodySmall",children:[(0,g.jsx)(a.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(o.Z,{id:"button-tooltip",children:L("view")}),children:(0,g.jsx)(l.Z,{variant:"primary",style:{padding:"5px 10px"},onClick:function(){return B(e)},children:(0,g.jsx)(f.$aU,{})})}),"STUDENT"!==(null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.role)&&(0,g.jsx)(a.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(o.Z,{id:"button-tooltip",children:L("status")}),children:(0,g.jsx)(l.Z,{className:"mr-10",variant:"warning",style:{padding:"5px 10px"},onClick:function(){return function(e){var t=e.id,n=(e.createdAt,e.updatedAt,e.studentID,(0,r.Z)(e,I));b.Z.StatusUpdate(t,n,A)}(e)},children:(0,g.jsx)(m.aXP,{})})}),(0,g.jsx)(a.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(o.Z,{id:"button-tooltip",children:L("edit")}),children:(0,g.jsx)(j.rU,{to:"/others-create-update?id=".concat(null===e||void 0===e?void 0:e.id),onClick:function(t){var n,r;return"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===S||void 0===S||null===(n=S.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===S||void 0===S||null===(r=S.data)||void 0===r?void 0:r.role)?t.preventDefault():void 0},children:(0,g.jsx)(l.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===S||void 0===S||null===(n=S.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===S||void 0===S||null===(i=S.data)||void 0===i?void 0:i.role),children:(0,g.jsx)(f.$iz,{})})})}),(0,g.jsx)(a.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,g.jsx)(o.Z,{id:"button-tooltip",children:L("delete")}),children:(0,g.jsx)(l.Z,{variant:"danger",style:{padding:"5px 10px"},onClick:function(){return t=e.id,void b.Z.Delete(t,F);var t},disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===S||void 0===S||null===(s=S.data)||void 0===s?void 0:s.role)||"ADMIN"===(null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.role),children:(0,g.jsx)(Z.yvY,{})})})]})}}],R=[{text:L("5"),value:5},{text:L("10"),value:10},{text:L("25"),value:25},{text:L("all"),value:null===z||void 0===z?void 0:z.length}];return(0,g.jsxs)(y.Z,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(c.Z.Body,{children:(0,g.jsxs)(v.Z,{children:[(0,g.jsxs)(h.Z,{className:"d-flex justify-content-between p-2",sm:12,children:[(0,g.jsx)("h5",{children:L("Others")}),(0,g.jsx)(j.rU,{to:"/others-create-update",onClick:function(e){var t;return"ADMIN"===(null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.role)?e.preventDefault():void 0},children:(0,g.jsx)(l.Z,{size:"sm",variant:"primary",disabled:"ADMIN"===(null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.role),children:L("create Others")})})]}),(0,g.jsx)(h.Z,{sm:12,children:Q?(0,g.jsx)(p.Z,{size:"lg",variant:"primary"}):null!==z&&void 0!==z&&z.length?(0,g.jsx)(N.Z,{columns:$,data:z,pageSize:5,sizePerPageList:R,isSortable:!0,pagination:!0}):L("no data found")})]})})})}),(0,g.jsx)(k,{singleOthers:w,show:O,handleClose:function(){return H(!1)}})]})}}}]);
//# sourceMappingURL=588.e303bc8a.chunk.js.map