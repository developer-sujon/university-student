"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[2736],{9180:function(e,s,n){n.d(s,{Mr:function(){return m},e9:function(){return o},mX:function(){return i},rb:function(){return d},vu:function(){return c}});var t=n(4165),r=n(5861),u=n(7218),a=u.E.injectEndpoints({endpoints:function(e){return{summerAssessmentList:e.query({query:function(){return{url:"summerAssessment/summerAssessmentList",method:"GET"}}}),summerAssessmentCreate:e.mutation({query:function(e){return{url:"summerAssessment/summerAssessmentCreate",method:"POST",body:e}},onQueryStarted:function(e,s){return(0,r.Z)((0,t.Z)().mark((function e(){var n,r,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.dispatch,r=s.queryFulfilled,e.prev=1,e.next=4,r;case 4:a=e.sent,i=a.data,n(u.E.util.updateQueryData("summerAssessmentList",void 0,(function(e){e.data.push(i.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),summerAssessmentApply:e.mutation({query:function(e){var s=e.id,n=e.enrolls;return{url:"summerAssessment/summerAssessmentApply/".concat(s),method:"PATCH",body:{enrolls:n}}},onQueryStarted:function(e,s){return(0,r.Z)((0,t.Z)().mark((function n(){var r,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.id,e.enrolls,s.dispatch,r=s.queryFulfilled,n.prev=2,n.next=5,r;case 5:u=n.sent,u.data&&window.location.reload(),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),summerAssessmentUpdate:e.mutation({query:function(e){var s=e.id,n=e.postBody;return{url:"summerAssessment/summerAssessmentUpdate/".concat(s),method:"PATCH",body:n}},onQueryStarted:function(e,s){return(0,r.Z)((0,t.Z)().mark((function n(){var r,a,i,m,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.id,e.postBody,a=s.dispatch,i=s.queryFulfilled,n.prev=2,n.next=5,i;case 5:m=n.sent,c=m.data,a(u.E.util.updateQueryData("summerAssessmentList",void 0,(function(e){var s=e.data.findIndex((function(e){return e.id===r}));e.data[s].name=null===c||void 0===c?void 0:c.data.name}))),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),summerAssessmentDelete:e.mutation({query:function(e){return{url:"summerAssessment/summerAssessmentDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,s){return(0,r.Z)((0,t.Z)().mark((function n(){var r,a,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=s.dispatch,a=s.queryFulfilled,i=r(u.E.util.updateQueryData("summerAssessmentList",void 0,(function(s){s.data=s.data.filter((function(s){return s.id!==e}))}))),n.prev=2,n.next=5,a;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),i.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}}),i=a.useSummerAssessmentCreateMutation,m=a.useSummerAssessmentApplyMutation,c=a.useSummerAssessmentListQuery,o=a.useSummerAssessmentUpdateMutation,d=a.useSummerAssessmentDeleteMutation},2736:function(e,s,n){n.r(s);var t=n(9439),r=n(2791),u=n(7689),a=n(7022),i=n(9140),m=n(9743),c=n(2677),o=n(5630),d=n(3360),l=n(4849),f=n(9230),p=n(1134),h=n(4695),v=n(8007),x=n(1724),Z=n(9180),y=n(184);s.default=function(){var e=(0,r.useState)(null),s=(0,t.Z)(e,2),n=s[0],A=s[1],j=(0,r.useState)({name:""}),S=(0,t.Z)(j,2),b=S[0],w=S[1],g=(0,f.$G)().t,k=(0,u.s0)(),q=(0,Z.vu)().data,E=(0,Z.mX)(),C=(0,t.Z)(E,2),L=C[0],Q=C[1],D=Q.isLoading,T=Q.isSuccess,B=(0,Z.e9)(),M=(0,t.Z)(B,2),F=M[0],I=M[1],N=I.isLoading,P=I.isSuccess;(0,r.useEffect)((function(){var e,s=new URLSearchParams(window.location.search).get("id");(null!==s&&A(s),n&&q)&&w(null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.find((function(e){return e.id===n})))}),[n,q]);var U=(0,p.cI)({mode:"onChange",defaultValues:b,resolver:(0,h.X)(v.Ry({name:v.Z_().required(g("courses name is required"))}))}),z=U.control,G=U.handleSubmit,R=U.reset,X=U.formState.errors;(0,r.useEffect)((function(){b&&R(b)}),[b]);return(0,r.useEffect)((function(){(T||P)&&k("/summer-assessment")}),[T,P]),(0,y.jsx)(x.Z,{children:(0,y.jsx)(a.Z,{children:(0,y.jsx)(i.Z,{children:(0,y.jsx)(i.Z.Body,{children:(0,y.jsxs)(m.Z,{children:[(0,y.jsx)("h5",{children:g("".concat(n?"update summer assessment":"save summer assessment"))}),(0,y.jsx)("hr",{className:"bg-light"}),(0,y.jsx)(c.Z,{children:(0,y.jsxs)(o.Z,{onSubmit:G((function(e){var s={name:e.name};n?F({id:n,postBody:s}):L(s)})),onReset:R,children:[(0,y.jsx)(m.Z,{class:!0,children:(0,y.jsx)(c.Z,{sm:4,children:(0,y.jsxs)(o.Z.Group,{className:"mb-3",controlId:"name",children:[(0,y.jsx)(o.Z.Label,{children:g("name")}),(0,y.jsx)(p.Qr,{control:z,name:"name",render:function(e){var s=e.field,n=s.onChange,t=(s.onBlur,s.value),r=s.ref;return(0,y.jsx)(o.Z.Control,{onChange:n,defaultValue:t,ref:r,isInvalid:X.name,placeholder:g("name of the summer assessment"),type:"text",size:"sm"})}}),X.name&&(0,y.jsx)(o.Z.Text,{className:"text-danger",children:X.name.message})]})})}),(0,y.jsx)(m.Z,{children:(0,y.jsx)(c.Z,{sm:4,children:(0,y.jsx)(d.Z,{size:"sm",className:"mt-2",type:"submit",children:D||N?(0,y.jsx)(l.Z,{size:"sm",color:"light"}):g("save change")})})})]})})]})})})})})}}}]);
//# sourceMappingURL=2736.3dbb11c7.chunk.js.map