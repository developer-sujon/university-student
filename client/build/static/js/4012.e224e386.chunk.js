"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[4012],{283:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(3433),a=n(1413),i=n(5987),s=n(9439),o=n(2791),l=n(1358),c=n(1694),u=n.n(c),d=n(1087),p=n(6053),f=n(184),h=function(e){var t=e.tableProps,n=e.sizePerPageList,r=e.link,a=(0,o.useState)(t.pageCount),i=(0,s.Z)(a,2),l=i[0],c=i[1],h=(0,o.useState)(t.state.pageIndex),x=(0,s.Z)(h,2),m=x[0],g=x[1];(0,o.useEffect)((function(){c(t.pageCount),g(t.state.pageIndex)}),[t.pageCount,t.state.pageIndex]);var v=(0,o.useCallback)((function(e,t){return e.filter((function(e){return e<=l}))}),[l]),j=(0,o.useCallback)((function(e,t){return t<7?v([1,2,3,4,5,6],t):e%5>=0&&e>4&&e+2<t?[1,e-1,e,e+1,t]:e%5>=0&&e>4&&e+2>=t?[1,t-3,t-2,t-1,t]:[1,2,3,4,5,t]}),[v]),Z=function(e){if(e!==m+1){var n=j(e,l);w(v(n,l)),t.gotoPage(e-1)}};(0,o.useEffect)((function(){var e=j(0,l);w(e)}),[l,j]);var b=(0,o.useState)(j(0,l)),y=(0,s.Z)(b,2),C=y[0],w=y[1],k=m+1;return(0,f.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[n.length>0&&(0,f.jsxs)("div",{className:"d-inline-block me-3",children:[(0,f.jsx)("label",{className:"me-1",children:"Display :"}),(0,f.jsx)("select",{value:t.state.pageSize,onChange:function(e){t.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(n||[]).map((function(e,t){return(0,f.jsx)("option",{value:e.value,children:e.text},t)}))})]}),(0,f.jsxs)("span",{className:"me-3",children:["Page"," ",(0,f.jsxs)("strong",{children:[m+1," of ",t.pageOptions.length]})," "]}),(0,f.jsxs)("span",{className:"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2",children:[(0,f.jsx)("label",{children:"Go to page : "}),(0,f.jsx)("input",{type:"number",value:m+1,min:"1",onChange:function(e){var n=e.target.value?Number(e.target.value)-1:0;t.gotoPage(n),g(t.state.pageIndex)},className:"form-control w-25 ms-1 d-inline-block"})]}),(0,f.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,f.jsx)("li",{className:u()("page-item","paginate_button","previous",{disabled:1===k}),onClick:function(){1!==k&&Z(k-1)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:(0,f.jsx)(p.Ugn,{})})},"prevpage"),(C||[]).map((function(e,t,n){return n[t-1]+1<e?(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:"..."})}),(0,f.jsx)("li",{className:u()("page-item","d-none","d-xl-inline-block",{active:k===e}),onClick:function(t){return Z(e)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:e})})]},e):(0,f.jsx)("li",{className:u()("page-item","d-none","d-xl-inline-block",{active:k===e}),onClick:function(t){return Z(e)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:e})},e)})),(0,f.jsx)("li",{className:u()("page-item","paginate_button","next",{disabled:k===t.pageCount}),onClick:function(){k!==t.pageCount&&Z(k+1)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:(0,f.jsx)(p.ULj,{})})},"nextpage")]})]})},x=["indeterminate"],m=function(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,r=e.setGlobalFilter,a=e.searchBoxClass,i=t.length,c=o.useState(n),d=(0,s.Z)(c,2),p=d[0],h=d[1],x=(0,l.useAsyncDebounce)((function(e){r(e||void 0)}),200);return(0,f.jsx)("div",{className:u()(a),children:(0,f.jsxs)("span",{className:"d-flex align-items-center",children:["Search :"," ",(0,f.jsx)("input",{value:p||"",onChange:function(e){h(e.target.value),x(e.target.value)},placeholder:"".concat(i," records..."),className:"form-control w-auto ms-1"})]})})},g=(0,o.forwardRef)((function(e,t){var n=e.indeterminate,r=(0,i.Z)(e,x),s=(0,o.useRef)(),l=t||s;return(0,o.useEffect)((function(){l.current.indeterminate=n}),[l,n]),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"form-check",children:[(0,f.jsx)("input",(0,a.Z)({type:"checkbox",className:"form-check-input",ref:l},r)),(0,f.jsx)("label",{htmlFor:"form-check-input",className:"form-check-label"})]})})})),v=function(e){var t=e.isSearchable||!1,n=e.isSortable||!1,i=e.pagination||!1,s=e.isSelectable||!1,o=e.isExpandable||!1,c=(0,l.useTable)({columns:e.columns,data:e.data,initialState:{pageSize:e.pageSize||10}},t&&l.useGlobalFilter,n&&l.useSortBy,o&&l.useExpanded,i&&l.usePagination,s&&l.useRowSelect,(function(e){s&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllPageRowsSelectedProps;return(0,f.jsx)("div",{children:(0,f.jsx)(g,(0,a.Z)({},t()))})},Cell:function(e){var t=e.row;return(0,f.jsx)("div",{children:(0,f.jsx)(g,(0,a.Z)({},t.getToggleRowSelectedProps()))})}}].concat((0,r.Z)(e))})),o&&e.visibleColumns.push((function(e){return[{id:"expander",Header:function(e){var t=e.getToggleAllRowsExpandedProps,n=e.isAllRowsExpanded;return(0,f.jsx)("span",(0,a.Z)((0,a.Z)({},t()),{},{children:n?"-":"+"}))},Cell:function(e){var t=e.row;return t.canExpand?(0,f.jsx)("span",(0,a.Z)((0,a.Z)({},t.getToggleRowExpandedProps({style:{paddingLeft:"".concat(2*t.depth,"rem")}})),{},{children:t.isExpanded?"-":"+"})):null}}].concat((0,r.Z)(e))}))})),d=i?c.page:c.rows;return(0,f.jsxs)(f.Fragment,{children:[t&&(0,f.jsx)(m,{preGlobalFilteredRows:c.preGlobalFilteredRows,globalFilter:c.state.globalFilter,setGlobalFilter:c.setGlobalFilter,searchBoxClass:e.searchBoxClass}),(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",(0,a.Z)((0,a.Z)({},c.getTableProps()),{},{className:u()("table table-centered react-table",e.tableClass),children:[(0,f.jsx)("thead",{className:e.theadClass,children:c.headerGroups.map((function(e){return(0,f.jsx)("tr",(0,a.Z)((0,a.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,f.jsx)("th",(0,a.Z)((0,a.Z)({},e.getHeaderProps(e.sort&&e.getSortByToggleProps())),{},{className:u()({sorting_desc:!0===e.isSortedDesc,sorting_asc:!1===e.isSortedDesc,sortable:!0===e.sort}),children:e.render("Header")}))}))}))}))}),(0,f.jsx)("tbody",(0,a.Z)((0,a.Z)({},c.getTableBodyProps()),{},{children:(d||[]).map((function(e,t){return c.prepareRow(e),(0,f.jsx)("tr",(0,a.Z)((0,a.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,f.jsx)("td",(0,a.Z)((0,a.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),i&&(0,f.jsx)(h,{link:e.link,tableProps:c,sizePerPageList:e.sizePerPageList})]})}},1828:function(e,t,n){var r=n(1413),a=n(5671),i=n(3144),s=n(1830),o=n.n(s),l=n(6787),c=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"Delete",value:function(e,t){return o().fire({title:l.Z.t("Are you sure?"),text:l.Z.t("You won't be able to revert this!"),icon:l.Z.t("warning"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:l.Z.t("Cancel")}).then((function(n){if(n.isConfirmed)return t(e).then((function(e){if(e)return!0}))}))}},{key:"DeleteHistory",value:function(e,t,n){return o().fire({title:l.Z.t("Are you sure?"),text:l.Z.t("You won't be able to revert this!"),icon:l.Z.t("warning"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:l.Z.t("Cancel")}).then((function(r){if(r.isConfirmed)return n({id:e,hid:t}).then((function(e){if(e)return!0}))}))}},{key:"Update",value:function(e,t){return o().fire({title:"Do you want to enrolled courses?",showCancelButton:!0,confirmButtonText:"yes"}).then((function(n){if(n.isConfirmed)return t({coursesID:e}).then((function(e){return o().fire("enrolled!","","success"),window.location.reload(),e}));n.isDenied&&o().fire("Changes are not saved","","info")}))}},{key:"StatusUpdate",value:function(e,t,n){return o().fire({title:"Change Status",input:"select",inputOptions:{PENDING:"PENDING",REJECTED:"REJECTED",APPROVED:"APPROVED"}}).then((function(a){if(a.isConfirmed)return n({id:e,postBody:(0,r.Z)((0,r.Z)({},t),{},{status:a.value})}).then((function(e){return e}))}))}}]),e}();t.Z=c},8318:function(e,t,n){n.d(t,{B$:function(){return o},b$:function(){return c},el:function(){return u},ry:function(){return l}});var r=n(4165),a=n(5861),i=n(7218),s=i.E.injectEndpoints({endpoints:function(e){return{instructorList:e.query({query:function(){return{url:"instructor/instructorList",method:"GET"}}}),instructorCreate:e.mutation({query:function(e){return{url:"instructor/instructorCreate",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,r.Z)().mark((function e(){var n,a,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:s=e.sent,o=s.data,n(i.E.util.updateQueryData("instructorList",void 0,(function(e){e.data.push(o.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),instructorUpdate:e.mutation({query:function(e){var t=e.id,n=e.postBody;return{url:"instructor/instructorUpdate/".concat(t),method:"PATCH",body:n}},onQueryStarted:function(e,t){return(0,a.Z)((0,r.Z)().mark((function n(){var a,s,o,l,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.id,e.postBody,s=t.dispatch,o=t.queryFulfilled,n.prev=2,n.next=5,o;case 5:l=n.sent,c=l.data,s(i.E.util.updateQueryData("instructorList",void 0,(function(e){var t,n,r,i=e.data.findIndex((function(e){return e.id===a}));e.data[i].name=null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.name,e.data[i].email=null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.email,e.data[i].password=null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.password}))),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),instructorDelete:e.mutation({query:function(e){return{url:"instructor/instructorDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,t){return(0,a.Z)((0,r.Z)().mark((function n(){var a,s,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.dispatch,s=t.queryFulfilled,o=a(i.E.util.updateQueryData("instructorList",void 0,(function(t){t.data=t.data.filter((function(t){return t.id!==e}))}))),n.prev=2,n.next=5,s;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),o.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}}),o=s.useInstructorCreateMutation,l=s.useInstructorListQuery,c=s.useInstructorUpdateMutation,u=s.useInstructorDeleteMutation},4012:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});n(5987);var r=n(9439),a=n(2791),i=n(7798),s=n(2576),o=n(3360),l=n(7022),c=n(9140),u=n(9743),d=n(2677),p=n(4849),f=n(9230),h=n(8820),x=n(1087),m=n(9126),g=n(1724),v=n(8318),j=n(283),Z=n(1828),b=(n(1239),n(396)),y=n(5316),C=n(184),w=function(e){var t=e.show,n=e.handleClose,r=e.singleInstructor,a=(0,f.$G)().t;return(0,C.jsxs)(y.Z,{show:t,onHide:n,children:[(0,C.jsx)(y.Z.Header,{closeButton:!0,children:(0,C.jsxs)(y.Z.Title,{children:[a("mobile"),": ",r.mobile]})}),(0,C.jsxs)(y.Z.Body,{children:[(0,C.jsxs)("p",{children:[a("name"),": ",r.name," "]}),(0,C.jsxs)("p",{children:[a("email"),": ",r.email," "]})]}),(0,C.jsx)(y.Z.Footer,{children:(0,C.jsx)(o.Z,{variant:"primary",onClick:n,children:a("close")})})]})},k=n(2969),N=function(){var e=(0,a.useState)({}),t=(0,r.Z)(e,2),n=t[0],y=t[1],N=(0,a.useState)(!1),P=(0,r.Z)(N,2),S=P[0],E=P[1],D=(0,f.$G)().t,B=(0,v.ry)(),T=B.data,F=B.isLoading,I=(0,v.el)(),R=(0,r.Z)(I,1)[0],G=(null===T||void 0===T?void 0:T.data)||[],U=((0,b.IQ)().data,(0,v.b$)()),H=((0,r.Z)(U,1)[0],function(e){y(e),E(!0)}),L=[{Header:"#",accessor:function(e,t){return t+1},sort:!0},{Header:D("name"),accessor:function(e){return(0,C.jsxs)("span",{className:"ms-1",children:[" ",e.name]})},sort:!0},{Header:D("mobile"),accessor:function(e){return(0,C.jsxs)("span",{className:"ms-1",children:[" ",e.mobile||"NA"]})},sort:!0},{Header:D("email"),accessor:function(e){return(0,C.jsxs)("span",{className:"ms-1",children:[" ",e.email]})},sort:!0},{Header:D("action"),accessor:function(e){return(0,C.jsxs)("div",{className:"bodySmall",children:[(0,C.jsx)(i.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,C.jsx)(s.Z,{id:"button-tooltip",children:D("view")}),children:(0,C.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},onClick:function(){return H(e)},children:(0,C.jsx)(h.$aU,{})})}),(0,C.jsx)(i.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,C.jsx)(s.Z,{id:"button-tooltip",children:D("edit")}),children:(0,C.jsx)(x.rU,{to:"/instructor-create-update?id=".concat(null===e||void 0===e?void 0:e.id),children:(0,C.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",children:(0,C.jsx)(h.$iz,{})})})}),(0,C.jsx)(i.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,C.jsx)(s.Z,{id:"button-tooltip",children:D("delete")}),children:(0,C.jsx)(o.Z,{variant:"danger",style:{padding:"5px 10px"},onClick:function(){return t=e.id,void Z.Z.Delete(t,R);var t},children:(0,C.jsx)(m.yvY,{})})})]})}}],z=[{text:D("5"),value:5},{text:D("10"),value:10},{text:D("25"),value:25},{text:D("all"),value:null===G||void 0===G?void 0:G.length}];return(0,C.jsxs)(g.Z,{children:[(0,C.jsx)(l.Z,{children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(c.Z.Body,{children:(0,C.jsxs)(u.Z,{children:[(0,C.jsxs)(d.Z,{className:"d-flex justify-content-between p-2",sm:12,children:[(0,C.jsx)("h5",{children:D("Instructor")}),(0,C.jsxs)("div",{children:[(0,C.jsx)(x.rU,{to:"/instructor-create-update",children:(0,C.jsx)(o.Z,{size:"sm",variant:"primary",children:D("create Instructor")})}),(0,C.jsx)(o.Z,{className:"mx-2",size:"sm",variant:"primary",onClick:function(){return(0,k.Z)(G,"instructor-report","xls")},children:D("download report")})]})]}),(0,C.jsx)(d.Z,{sm:12,children:F?(0,C.jsx)(p.Z,{size:"lg",variant:"primary"}):null!==G&&void 0!==G&&G.length?(0,C.jsx)(j.Z,{columns:L,data:G,pageSize:5,sizePerPageList:z,isSortable:!0,pagination:!0}):D("no data found")})]})})})}),(0,C.jsx)(w,{singleInstructor:n,show:S,handleClose:function(){return E(!1)}})]})}},1239:function(e,t,n){n.d(t,{p6:function(){return s}});n(2791);var r=n(6431),a=n.n(r),i=n(184);function s(e){var t=new Date(e),n=""+(t.getMonth()+1),r=""+t.getDate(),a=t.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[a,n,r].join("-")}t.ZP=function(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{format:"D MMM YYYY",withTitle:!0,children:e})," ",(0,i.jsx)("br",{})]})}},2969:function(e,t,n){var r=n(4942),a=n(3433),i=n(3589);t.Z=function(e,t,n){var s=e.map((function(t){return Object.assign.apply(Object,[{}].concat((0,a.Z)(function e(t){var n;return(n=[]).concat.apply(n,(0,a.Z)(Object.keys(t).map((function(n){return"object"===typeof t[n]?e(t[n]):(0,r.Z)({},n,t[n])}))))}(e))))}));if("csv"===n){var o=i.Z.types.csv;return(0,i.Z)({data:s,fileName:t,exportType:o})}if("xls"===n){var l=i.Z.types.xls;return(0,i.Z)({data:s,fileName:t,exportType:l})}}}}]);
//# sourceMappingURL=4012.e224e386.chunk.js.map