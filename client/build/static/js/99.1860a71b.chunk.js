"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[99],{283:function(e,t,n){n.d(t,{Z:function(){return g}});var s=n(3433),a=n(1413),r=n(5987),i=n(9439),l=n(2791),o=n(1358),u=n(1694),d=n.n(u),c=n(1087),p=n(6053),v=n(184),m=function(e){var t=e.tableProps,n=e.sizePerPageList,s=e.link,a=(0,l.useState)(t.pageCount),r=(0,i.Z)(a,2),o=r[0],u=r[1],m=(0,l.useState)(t.state.pageIndex),f=(0,i.Z)(m,2),x=f[0],h=f[1];(0,l.useEffect)((function(){u(t.pageCount),h(t.state.pageIndex)}),[t.pageCount,t.state.pageIndex]);var g=(0,l.useCallback)((function(e,t){return e.filter((function(e){return e<=o}))}),[o]),j=(0,l.useCallback)((function(e,t){return t<7?g([1,2,3,4,5,6],t):e%5>=0&&e>4&&e+2<t?[1,e-1,e,e+1,t]:e%5>=0&&e>4&&e+2>=t?[1,t-3,t-2,t-1,t]:[1,2,3,4,5,t]}),[g]),b=function(e){if(e!==x+1){var n=j(e,o);y(g(n,o)),t.gotoPage(e-1)}};(0,l.useEffect)((function(){var e=j(0,o);y(e)}),[o,j]);var Z=(0,l.useState)(j(0,o)),k=(0,i.Z)(Z,2),N=k[0],y=k[1],C=x+1;return(0,v.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[n.length>0&&(0,v.jsxs)("div",{className:"d-inline-block me-3",children:[(0,v.jsx)("label",{className:"me-1",children:"Display :"}),(0,v.jsx)("select",{value:t.state.pageSize,onChange:function(e){t.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(n||[]).map((function(e,t){return(0,v.jsx)("option",{value:e.value,children:e.text},t)}))})]}),(0,v.jsxs)("span",{className:"me-3",children:["Page"," ",(0,v.jsxs)("strong",{children:[x+1," of ",t.pageOptions.length]})," "]}),(0,v.jsxs)("span",{className:"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2",children:[(0,v.jsx)("label",{children:"Go to page : "}),(0,v.jsx)("input",{type:"number",value:x+1,min:"1",onChange:function(e){var n=e.target.value?Number(e.target.value)-1:0;t.gotoPage(n),h(t.state.pageIndex)},className:"form-control w-25 ms-1 d-inline-block"})]}),(0,v.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,v.jsx)("li",{className:d()("page-item","paginate_button","previous",{disabled:1===C}),onClick:function(){1!==C&&b(C-1)},children:(0,v.jsx)(c.rU,{to:s,className:"page-link",children:(0,v.jsx)(p.Ugn,{})})},"prevpage"),(N||[]).map((function(e,t,n){return n[t-1]+1<e?(0,v.jsxs)(l.Fragment,{children:[(0,v.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,v.jsx)(c.rU,{to:s,className:"page-link",children:"..."})}),(0,v.jsx)("li",{className:d()("page-item","d-none","d-xl-inline-block",{active:C===e}),onClick:function(t){return b(e)},children:(0,v.jsx)(c.rU,{to:s,className:"page-link",children:e})})]},e):(0,v.jsx)("li",{className:d()("page-item","d-none","d-xl-inline-block",{active:C===e}),onClick:function(t){return b(e)},children:(0,v.jsx)(c.rU,{to:s,className:"page-link",children:e})},e)})),(0,v.jsx)("li",{className:d()("page-item","paginate_button","next",{disabled:C===t.pageCount}),onClick:function(){C!==t.pageCount&&b(C+1)},children:(0,v.jsx)(c.rU,{to:s,className:"page-link",children:(0,v.jsx)(p.ULj,{})})},"nextpage")]})]})},f=["indeterminate"],x=function(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,s=e.setGlobalFilter,a=e.searchBoxClass,r=t.length,u=l.useState(n),c=(0,i.Z)(u,2),p=c[0],m=c[1],f=(0,o.useAsyncDebounce)((function(e){s(e||void 0)}),200);return(0,v.jsx)("div",{className:d()(a),children:(0,v.jsxs)("span",{className:"d-flex align-items-center",children:["Search :"," ",(0,v.jsx)("input",{value:p||"",onChange:function(e){m(e.target.value),f(e.target.value)},placeholder:"".concat(r," records..."),className:"form-control w-auto ms-1"})]})})},h=(0,l.forwardRef)((function(e,t){var n=e.indeterminate,s=(0,r.Z)(e,f),i=(0,l.useRef)(),o=t||i;return(0,l.useEffect)((function(){o.current.indeterminate=n}),[o,n]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"form-check",children:[(0,v.jsx)("input",(0,a.Z)({type:"checkbox",className:"form-check-input",ref:o},s)),(0,v.jsx)("label",{htmlFor:"form-check-input",className:"form-check-label"})]})})})),g=function(e){var t=e.isSearchable||!1,n=e.isSortable||!1,r=e.pagination||!1,i=e.isSelectable||!1,l=e.isExpandable||!1,u=(0,o.useTable)({columns:e.columns,data:e.data,initialState:{pageSize:e.pageSize||10}},t&&o.useGlobalFilter,n&&o.useSortBy,l&&o.useExpanded,r&&o.usePagination,i&&o.useRowSelect,(function(e){i&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllPageRowsSelectedProps;return(0,v.jsx)("div",{children:(0,v.jsx)(h,(0,a.Z)({},t()))})},Cell:function(e){var t=e.row;return(0,v.jsx)("div",{children:(0,v.jsx)(h,(0,a.Z)({},t.getToggleRowSelectedProps()))})}}].concat((0,s.Z)(e))})),l&&e.visibleColumns.push((function(e){return[{id:"expander",Header:function(e){var t=e.getToggleAllRowsExpandedProps,n=e.isAllRowsExpanded;return(0,v.jsx)("span",(0,a.Z)((0,a.Z)({},t()),{},{children:n?"-":"+"}))},Cell:function(e){var t=e.row;return t.canExpand?(0,v.jsx)("span",(0,a.Z)((0,a.Z)({},t.getToggleRowExpandedProps({style:{paddingLeft:"".concat(2*t.depth,"rem")}})),{},{children:t.isExpanded?"-":"+"})):null}}].concat((0,s.Z)(e))}))})),c=r?u.page:u.rows;return(0,v.jsxs)(v.Fragment,{children:[t&&(0,v.jsx)(x,{preGlobalFilteredRows:u.preGlobalFilteredRows,globalFilter:u.state.globalFilter,setGlobalFilter:u.setGlobalFilter,searchBoxClass:e.searchBoxClass}),(0,v.jsx)("div",{className:"table-responsive",children:(0,v.jsxs)("table",(0,a.Z)((0,a.Z)({},u.getTableProps()),{},{className:d()("table table-centered react-table",e.tableClass),children:[(0,v.jsx)("thead",{className:e.theadClass,children:u.headerGroups.map((function(e){return(0,v.jsx)("tr",(0,a.Z)((0,a.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,v.jsx)("th",(0,a.Z)((0,a.Z)({},e.getHeaderProps(e.sort&&e.getSortByToggleProps())),{},{className:d()({sorting_desc:!0===e.isSortedDesc,sorting_asc:!1===e.isSortedDesc,sortable:!0===e.sort}),children:e.render("Header")}))}))}))}))}),(0,v.jsx)("tbody",(0,a.Z)((0,a.Z)({},u.getTableBodyProps()),{},{children:(c||[]).map((function(e,t){return u.prepareRow(e),(0,v.jsx)("tr",(0,a.Z)((0,a.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,v.jsx)("td",(0,a.Z)((0,a.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),r&&(0,v.jsx)(m,{link:e.link,tableProps:u,sizePerPageList:e.sizePerPageList})]})}},1828:function(e,t,n){var s=n(1413),a=n(5671),r=n(3144),i=n(1830),l=n.n(i),o=n(6787),u=function(){function e(){(0,a.Z)(this,e)}return(0,r.Z)(e,null,[{key:"Delete",value:function(e,t){return l().fire({title:o.Z.t("Are you sure?"),text:o.Z.t("You won't be able to revert this!"),icon:o.Z.t("warning"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:o.Z.t("Cancel")}).then((function(n){if(n.isConfirmed)return t(e).then((function(e){if(e)return!0}))}))}},{key:"Update",value:function(e,t,n,s){return l().fire({title:"Change Status",input:"select",inputOptions:n,inputValue:t}).then((function(t){if(t.isConfirmed)return s(e,t.value).then((function(e){return e}))}))}},{key:"StatusUpdate",value:function(e,t,n){return l().fire({title:"Change Status",input:"select",inputOptions:{PENDING:"PENDING",REJECTED:"REJECTED",APPROVED:"APPROVED"}}).then((function(a){if(a.isConfirmed)return n({id:e,postBody:(0,s.Z)((0,s.Z)({},t),{},{status:a.value})}).then((function(e){return e}))}))}}]),e}();t.Z=u},7450:function(e,t,n){n.d(t,{TC:function(){return u},e_:function(){return l},qD:function(){return d},zC:function(){return o}});var s=n(4165),a=n(5861),r=n(7218),i=r.E.injectEndpoints({endpoints:function(e){return{retakeAssessmentList:e.query({query:function(){return{url:"retakeAssessment/retakeAssessmentList",method:"GET"}}}),retakeAssessmentCreate:e.mutation({query:function(e){return{url:"retakeAssessment/retakeAssessmentCreate",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,s.Z)().mark((function e(){var n,a,i,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:i=e.sent,l=i.data,n(r.E.util.updateQueryData("retakeAssessmentList",void 0,(function(e){e.data.push(l.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),retakeAssessmentUpdate:e.mutation({query:function(e){var t=e.id,n=e.postBody;return{url:"retakeAssessment/retakeAssessmentUpdate/".concat(t),method:"PATCH",body:n}},onQueryStarted:function(e,t){return(0,a.Z)((0,s.Z)().mark((function n(){var a,i,l,o,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.id,e.postBody,i=t.dispatch,l=t.queryFulfilled,n.prev=2,n.next=5,l;case 5:o=n.sent,u=o.data,i(r.E.util.updateQueryData("retakeAssessmentList",void 0,(function(e){var t,n=e.data.findIndex((function(e){return e.id===a}));e.data[n].assessmentType=null===u||void 0===u?void 0:u.data.assessmentType,e.data[n].instructor=null===u||void 0===u?void 0:u.data.instructor,e.data[n].reason=null===u||void 0===u?void 0:u.data.reason,e.data[n].status=null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.status,e.data[n].studentID=null===u||void 0===u?void 0:u.data.studentID,e.data[n].subject=null===u||void 0===u?void 0:u.data.subject}))),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}),retakeAssessmentDelete:e.mutation({query:function(e){return{url:"retakeAssessment/retakeAssessmentDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,t){return(0,a.Z)((0,s.Z)().mark((function n(){var a,i,l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.dispatch,i=t.queryFulfilled,l=a(r.E.util.updateQueryData("retakeAssessmentList",void 0,(function(t){t.data=t.data.filter((function(t){return t.id!==e}))}))),n.prev=2,n.next=5,i;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),l.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}}),l=i.useRetakeAssessmentCreateMutation,o=i.useRetakeAssessmentListQuery,u=i.useRetakeAssessmentUpdateMutation,d=i.useRetakeAssessmentDeleteMutation},99:function(e,t,n){n.r(t);var s=n(5987),a=n(9439),r=n(2791),i=n(5736),l=n(7798),o=n(2576),u=n(3360),d=n(7022),c=n(9140),p=n(9743),v=n(2677),m=n(4849),f=n(9230),x=n(8820),h=n(1087),g=n(9126),j=n(6053),b=n(1724),Z=n(7450),k=n(283),N=n(1828),y=n(396),C=n(184),D=["id","studentID"];t.default=function(){var e,t=(0,r.useState)({}),n=(0,a.Z)(t,2),P=(n[0],n[1],(0,y.IQ)().data),E=(0,Z.TC)(),S=(0,a.Z)(E,1)[0],w=(0,f.$G)().t,A=(0,Z.zC)(),T=A.data,R=A.isLoading,I=(0,Z.qD)(),U=(0,a.Z)(I,1)[0],G=(null===T||void 0===T?void 0:T.data)||[],F=[{Header:"#",accessor:function(e,t){return t+1},sort:!0},{Header:w("student id"),accessor:function(e){return(0,C.jsxs)("span",{className:"ms-1",children:[" ",e.studentID]})},sort:!0},{Header:w("subject"),accessor:function(e){return(0,C.jsxs)("span",{className:"ms-1",children:[" ",e.subject]})},sort:!0},{Header:w("instructor"),accessor:function(e){return e.instructor},sort:!0},{Header:w("assessment type"),accessor:function(e){return(0,C.jsxs)("span",{className:"ms-1",children:[" ",e.assessmentType]})},sort:!0},{Header:w("status"),accessor:function(e){return(0,C.jsx)("div",{className:"bodySmall",children:"PENDING"===(null===e||void 0===e?void 0:e.status)?(0,C.jsx)(i.Z,{bg:"primary",pill:!0,children:(0,C.jsx)("span",{className:"ms-1",children:w(null===e||void 0===e?void 0:e.status)})}):"REJECTED"===(null===e||void 0===e?void 0:e.status)?(0,C.jsx)(i.Z,{bg:"danger",pill:!0,children:(0,C.jsx)("span",{className:"ms-1",children:w(null===e||void 0===e?void 0:e.status)})}):"APPROVED"===(null===e||void 0===e?void 0:e.status)?(0,C.jsx)(i.Z,{bg:"success",pill:!0,children:(0,C.jsx)("span",{className:"ms-1",children:w(null===e||void 0===e?void 0:e.status)})}):""})},sort:!0},{Header:w("action"),accessor:function(e){var t,n,a,r,i;return(0,C.jsxs)("div",{className:"bodySmall",children:["STUDENT"!==(null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.role)&&(0,C.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,C.jsx)(o.Z,{id:"button-tooltip",children:w("status")}),children:(0,C.jsx)(u.Z,{className:"mr-10",variant:"warning",style:{padding:"5px 10px"},onClick:function(){return function(e){var t=e.id,n=(e.studentID,(0,s.Z)(e,D));N.Z.StatusUpdate(t,n,S)}(e)},children:(0,C.jsx)(j.aXP,{})})}),(0,C.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,C.jsx)(o.Z,{id:"button-tooltip",children:w("edit")}),children:(0,C.jsx)(h.rU,{to:"/retake-assessment-create-update?id=".concat(null===e||void 0===e?void 0:e.id),onClick:function(t){var n,s;return"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===P||void 0===P||null===(n=P.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===P||void 0===P||null===(s=P.data)||void 0===s?void 0:s.role)?t.preventDefault():void 0},children:(0,C.jsx)(u.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===P||void 0===P||null===(n=P.data)||void 0===n?void 0:n.role)||"ADMIN"===(null===P||void 0===P||null===(a=P.data)||void 0===a?void 0:a.role),children:(0,C.jsx)(x.$iz,{})})})}),(0,C.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,C.jsx)(o.Z,{id:"button-tooltip",children:w("delete")}),children:(0,C.jsx)(u.Z,{variant:"danger",style:{padding:"5px 10px"},onClick:function(){return t=e.id,void N.Z.Delete(t,U);var t},disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===P||void 0===P||null===(r=P.data)||void 0===r?void 0:r.role)||"ADMIN"===(null===P||void 0===P||null===(i=P.data)||void 0===i?void 0:i.role),children:(0,C.jsx)(g.yvY,{})})})]})}}],z=[{text:w("5"),value:5},{text:w("10"),value:10},{text:w("25"),value:25},{text:w("all"),value:null===G||void 0===G?void 0:G.length}];return(0,C.jsx)(b.Z,{children:(0,C.jsx)(d.Z,{children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(c.Z.Body,{children:(0,C.jsxs)(p.Z,{children:[(0,C.jsxs)(v.Z,{className:"d-flex justify-content-between p-2",sm:12,children:[(0,C.jsx)("h5",{children:w("retake assessment")}),(0,C.jsx)(h.rU,{to:"/retake-assessment-create-update",onClick:function(e){var t;return"ADMIN"===(null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.role)?e.preventDefault():void 0},children:(0,C.jsx)(u.Z,{size:"sm",variant:"primary",disabled:"ADMIN"===(null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.role),children:w("create retake assessment")})})]}),(0,C.jsx)(v.Z,{sm:12,children:R?(0,C.jsx)(m.Z,{size:"lg",variant:"primary"}):null!==G&&void 0!==G&&G.length?(0,C.jsx)(k.Z,{columns:F,data:G,pageSize:5,sizePerPageList:z,isSortable:!0,pagination:!0}):w("no data found")})]})})})})})}}}]);
//# sourceMappingURL=99.1860a71b.chunk.js.map