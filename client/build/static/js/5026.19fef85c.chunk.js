"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[5026],{295:function(e,r,n){n.d(r,{Z:function(){return d}});var s=n(2932),t=n(7022),a=n(8820),o=n(1087),i=n(4427),c=n(184),l=function(e){var r=e.title;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("title",{children:r}),(0,c.jsx)(s.Z,{className:"fixed-top px-0 shadow-sm ",children:(0,c.jsx)(t.Z,{fluid:!0,children:(0,c.jsxs)(s.Z.Brand,{children:[(0,c.jsx)("button",{className:"icon-nav m-0 h5 btn btn-link",children:(0,c.jsx)(a.n5H,{})}),(0,c.jsx)(o.rU,{to:"/",children:(0,c.jsx)("img",{className:"nav-logo mx-2",src:i,alt:"logo"})})]})})})]})},d=function(e){var r=e.children,n=e.title;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l,{title:n}),r]})}},2654:function(e,r,n){n.d(r,{YA:function(){return c},gL:function(){return m},l4:function(){return l},qQ:function(){return u},zN:function(){return d}});var s=n(4165),t=n(5861),a=n(4948),o=n(6789),i=n(7218).E.injectEndpoints({endpoints:function(e){return{register:e.mutation({query:function(e){return{url:"auth/register",method:"POST",body:e}}}),login:e.mutation({query:function(e){return{url:"auth/login",method:"POST",body:e}},onQueryStarted:function(e,r){return(0,t.Z)((0,s.Z)().mark((function e(){var n,t,a,i,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.queryFulfilled,t=r.dispatch,e.prev=1,e.next=4,n;case 4:c=e.sent,t((0,o.R9)(null===(a=c.data)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.accessToken)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}),forgotPassword:e.mutation({query:function(e){return{url:"auth/forgotPassword",method:"POST",body:e}}}),verifyEmail:e.mutation({query:function(e){var r=e.email,n=e.otp;return{url:"auth/verifyEmail?otp=".concat(n),method:"POST",body:{email:r}}}}),resetPassword:e.mutation({query:function(e){var r=e.password,n=e.email,s=e.otp;return{url:"auth/resetPassword?otp=".concat(s),method:"POST",body:{password:r,email:n}}},onQueryStarted:function(e,r){return(0,t.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.queryFulfilled,r.dispatch,e.prev=1,e.next=4,n;case 4:e.sent,a.Z.ResetOtp(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}})}}}),c=i.useLoginMutation,l=i.useRegisterMutation,d=i.useForgotPasswordMutation,u=i.useVerifyEmailMutation,m=i.useResetPasswordMutation},5026:function(e,r,n){n.r(r);var s=n(9439),t=n(2791),a=n(7689),o=n(1087),i=n(9743),c=n(2677),l=n(9140),d=n(5630),u=n(4849),m=n(1134),f=n(4695),h=n(9230),x=n(8007),p=n(5048),v=n(2654),w=n(295),j=n(4948),g=n(184);r.default=function(){var e=(0,a.s0)(),r=(0,v.gL)(),n=(0,s.Z)(r,2),Z=n[0],b=n[1],P=b.isLoading,y=b.isSuccess,N=(0,h.$G)().t,C=(0,p.v9)((function(e){return e.authReducer})).accessToken,q=(0,m.cI)({mode:"onChange",defaultValues:{email:j.Z.GetRecoverVerifyEmail(),otp:j.Z.GetRecoverVerifyOTP(),password:"",confirmPassword:""},resolver:(0,f.X)(x.Ry({email:x.Z_().required(N("email number is required")).email(N("invalid email address")),password:x.Z_().required(N("Password is required.")).min(8,N("Password must be 8 digits long")),confirmPassword:x.Z_().required(N("Confirm password is required")).oneOf([x.iH("password"),null],N("Password and confirm password must match"))}))}),R=q.control,T=q.handleSubmit,k=q.reset,E=q.formState.errors;return(0,t.useEffect)((function(){y||j.Z.GetRecoverVerifyEmail()&&j.Z.GetRecoverVerifyOTP()||e("/forgot-password")}),[j.Z.GetRecoverVerifyEmail(),j.Z.GetRecoverVerifyOTP()]),(0,t.useEffect)((function(){(C||y)&&e("/login")}),[y,C]),(0,g.jsx)(w.Z,{children:(0,g.jsx)("div",{className:"auth-wrapper pt-5 mt-5",children:(0,g.jsx)("div",{className:"auth-content",children:(0,g.jsx)("div",{className:"auth-wrapper",children:(0,g.jsx)("div",{className:"auth-content",children:(0,g.jsx)(i.Z,{className:"justify-content-center",children:(0,g.jsx)(c.Z,{xl:8,className:"center-screen",children:(0,g.jsx)(l.Z,{className:"w-100",children:(0,g.jsxs)(l.Z.Body,{children:[(0,g.jsx)("h5",{children:"Reset Password"}),(0,g.jsx)("br",{}),(0,g.jsxs)(d.Z,{onSubmit:T((function(e){Z(e)})),onReset:k,children:[(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"email",children:[(0,g.jsx)(d.Z.Label,{children:"Email"}),(0,g.jsx)(m.Qr,{control:R,name:"email",render:function(e){var r=e.field,n=r.onChange,s=(r.onBlur,r.value),t=r.ref;return(0,g.jsx)(d.Z.Control,{onChange:n,value:s,ref:t,isInvalid:E.email,placeholder:"Email",type:"email",disabled:!0})}}),E.email&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:E.email.message})]}),(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"Password",children:[(0,g.jsx)(d.Z.Label,{children:"Password"}),(0,g.jsx)(m.Qr,{control:R,name:"password",render:function(e){var r=e.field,n=r.onChange,s=(r.onBlur,r.value),t=r.ref;return(0,g.jsx)(d.Z.Control,{onChange:n,value:s,ref:t,isInvalid:E.password,placeholder:"Password",type:"password"})}}),E.password&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:E.password.message})]}),(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"confirmPassword",children:[(0,g.jsx)(d.Z.Label,{children:"Confirm Password"}),(0,g.jsx)(m.Qr,{control:R,name:"confirmPassword",render:function(e){var r=e.field,n=r.onChange,s=(r.onBlur,r.value),t=r.ref;return(0,g.jsx)(d.Z.Control,{onChange:n,value:s,ref:t,isInvalid:E.confirmPassword,placeholder:"Confirm Password",type:"confirmPassword"})}}),E.confirmPassword&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:E.confirmPassword.message})]}),(0,g.jsx)("div",{className:"d-grid",children:(0,g.jsx)("button",{className:"btn btn-primary btn-block login-btn mt-2",type:"submit",children:P?(0,g.jsx)(u.Z,{size:"sm",color:"light"}):N("reset password")})})]}),(0,g.jsxs)("div",{className:"text-center w-100 mt-3",children:[(0,g.jsx)(o.rU,{className:"text-center",to:"/login",children:"Sign In"}),(0,g.jsx)("br",{}),(0,g.jsx)(o.rU,{className:"text-center",to:"/forgot-password",children:"Forget Password"})]})]})})})})})})})})})}},4427:function(e,r,n){e.exports=n.p+"static/media/logo.163d4d7f9d976c3e182c.png"}}]);
//# sourceMappingURL=5026.19fef85c.chunk.js.map