"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[7010],{1660:function(e,s,r){r.d(s,{J5:function(){return l},Kk:function(){return d},rB:function(){return i},u_:function(){return a},zQ:function(){return c}});var n=r(4165),o=r(5861),t=r(7218),u=t.E.injectEndpoints({endpoints:function(e){return{insCoursesList:e.query({query:function(){return{url:"insCourses/insCoursesList",method:"GET"}}}),insCoursesCreate:e.mutation({query:function(e){return{url:"insCourses/insCoursesCreate",method:"POST",body:e}},onQueryStarted:function(e,s){return(0,o.Z)((0,n.Z)().mark((function e(){var r,o,u,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.dispatch,o=s.queryFulfilled,e.prev=1,e.next=4,o;case 4:u=e.sent,a=u.data,r(t.E.util.updateQueryData("insCoursesList",void 0,(function(e){e.data.push(a.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),insCoursesUpdate:e.mutation({query:function(e){var s=e.id,r=e.postBody;return{url:"insCourses/insCoursesUpdate/".concat(s),method:"PATCH",body:r}},onQueryStarted:function(e,s){return(0,o.Z)((0,n.Z)().mark((function r(){var o,u,a,i,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.id,e.postBody,u=s.dispatch,a=s.queryFulfilled,r.prev=2,r.next=5,a;case 5:i=r.sent,c=i.data,u(t.E.util.updateQueryData("insCoursesList",void 0,(function(e){var s,r,n,t,u,a=e.data.findIndex((function(e){return e.id===o}));e.data[a].coursesCode=null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.coursesCode,e.data[a].coursesName=null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.coursesName,e.data[a].coursesInstructor=null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.coursesInstructor,e.data[a].resources=null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.resources,e.data[a].coursesHistory=null===c||void 0===c||null===(u=c.data)||void 0===u?void 0:u.coursesHistory}))),c&&window.location.reload(),r.next=13;break;case 11:r.prev=11,r.t0=r.catch(2);case 13:case"end":return r.stop()}}),r,null,[[2,11]])})))()}}),insCoursesDelete:e.mutation({query:function(e){return{url:"insCourses/insCoursesDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,s){return(0,o.Z)((0,n.Z)().mark((function r(){var o,u,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=s.dispatch,u=s.queryFulfilled,a=o(t.E.util.updateQueryData("insCoursesList",void 0,(function(s){s.data=s.data.filter((function(s){return s.id!==e}))}))),r.prev=2,r.next=5,u;case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),a.undo();case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()}}),insCoursesHistoryDelete:e.mutation({query:function(e){var s=e.id,r=e.hid;return{url:"insCourses/insCoursesHistoryDelete/".concat(s,"/").concat(r),method:"DELETE"}},onQueryStarted:function(e,s){return(0,o.Z)((0,n.Z)().mark((function e(){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.dispatch,r=s.queryFulfilled,e.prev=1,e.next=4,r;case 4:o=e.sent,o.data&&window.location.reload(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}})}}}),a=u.useInsCoursesCreateMutation,i=u.useInsCoursesListQuery,c=u.useInsCoursesUpdateMutation,d=u.useInsCoursesDeleteMutation,l=u.useInsCoursesHistoryDeleteMutation},7010:function(e,s,r){r.r(s);var n=r(9439),o=r(2791),t=r(7689),u=r(7022),a=r(9140),i=r(9743),c=r(2677),d=r(5630),l=r(3360),C=r(4849),f=r(9230),h=r(1134),m=r(4695),x=r(8007),v=r(1724),p=r(1660),Z=(r(1239),r(184));s.default=function(){var e=(0,o.useState)(null),s=(0,n.Z)(e,2),r=s[0],I=s[1],j=(0,o.useState)({insCoursesCode:"",insCoursesName:"",InsCoursesInstructor:"",coursesSession:"",coursesProgram:""}),g=(0,n.Z)(j,2),y=g[0],b=g[1],N=(0,f.$G)().t,S=(0,t.s0)(),q=(0,p.rB)().data,w=(0,p.u_)(),L=(0,n.Z)(w,2),E=L[0],Q=L[1],D=Q.isLoading,P=Q.isSuccess,k=(0,p.zQ)(),B=(0,n.Z)(k,2),T=B[0],z=B[1],_=z.isLoading,M=z.isSuccess;(0,o.useEffect)((function(){var e,s=new URLSearchParams(window.location.search).get("id");(null!==s&&I(s),r&&q)&&((null===q||void 0===q?void 0:q.data)&&b(null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.find((function(e){return e.id===r}))))}),[r,q]);var G=(0,h.cI)({mode:"onChange",defaultValues:y,resolver:(0,m.X)(x.Ry({insCoursesCode:x.Z_().required(N("Ins Coursesname is required")),insCoursesName:x.Z_().required(N("Ins Coursesname is required")),coursesSession:x.Z_().required(N("Ins coursesSession is required")),coursesProgram:x.Z_().required(N("Ins coursesProgram is required")),InsCoursesInstructor:x.Z_().required(N("InsInsCoursesinstructor is required"))}))}),V=G.control,F=G.handleSubmit,H=G.reset,Y=(G.watch,G.setValue,G.formState.errors);(0,o.useEffect)((function(){y&&H(y)}),[y]);return(0,o.useEffect)((function(){(P||M)&&S("/inscourses")}),[P,M]),(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(a.Z.Body,{children:(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)("h5",{children:N("".concat(r?"update InsCourses":"save InsCourses"))}),(0,Z.jsx)("hr",{className:"bg-light"}),(0,Z.jsx)(c.Z,{children:(0,Z.jsxs)(d.Z,{onSubmit:F((function(e){var s={coursesCode:e.insCoursesCode,coursesName:e.insCoursesName,coursesInstructor:e.InsCoursesInstructor,coursesSession:e.coursesSession,coursesProgram:e.coursesProgram};r?T({id:r,postBody:s}):E(s)})),onReset:H,children:[(0,Z.jsxs)(i.Z,{class:!0,children:[(0,Z.jsx)(c.Z,{sm:4,children:(0,Z.jsxs)(d.Z.Group,{className:"mb-3",controlId:"insCoursesCode",children:[(0,Z.jsx)(d.Z.Label,{children:N("InsinsCoursescode")}),(0,Z.jsx)(h.Qr,{control:V,name:"insCoursesCode",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),o=s.ref;return(0,Z.jsx)(d.Z.Control,{onChange:r,defaultValue:n,ref:o,isInvalid:Y.insCoursesCode,placeholder:N("InsinsCoursescode of the InsCourses"),type:"text",size:"sm"})}}),Y.insCoursesCode&&(0,Z.jsx)(d.Z.Text,{className:"text-danger",children:Y.insCoursesCode.message})]})}),(0,Z.jsx)(c.Z,{sm:4,children:(0,Z.jsxs)(d.Z.Group,{className:"mb-3",controlId:"insCoursesName",children:[(0,Z.jsx)(d.Z.Label,{children:N("InsinsCoursesname")}),(0,Z.jsx)(h.Qr,{control:V,name:"insCoursesName",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),o=s.ref;return(0,Z.jsx)(d.Z.Control,{onChange:r,defaultValue:n,ref:o,isInvalid:Y.insCoursesName,placeholder:N("InsinsCoursesname of the InsCourses"),type:"text",size:"sm"})}}),Y.insCoursesName&&(0,Z.jsx)(d.Z.Text,{className:"text-danger",children:Y.insCoursesName.message})]})}),(0,Z.jsx)(c.Z,{sm:4,children:(0,Z.jsxs)(d.Z.Group,{className:"mb-3",controlId:"InsCoursesInstructor",children:[(0,Z.jsx)(d.Z.Label,{children:N("InsInsCoursesinstructor")}),(0,Z.jsx)(h.Qr,{control:V,name:"InsCoursesInstructor",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),o=s.ref;return(0,Z.jsx)(d.Z.Control,{onChange:r,defaultValue:n,ref:o,isInvalid:Y.InsCoursesInstructor,placeholder:N("InsInsCoursesinstructor of the InsCourses"),type:"text",size:"sm"})}}),Y.InsCoursesInstructor&&(0,Z.jsx)(d.Z.Text,{className:"text-danger",children:Y.InsCoursesInstructor.message})]})}),(0,Z.jsx)(c.Z,{sm:4,children:(0,Z.jsxs)(d.Z.Group,{className:"mb-3",controlId:"coursesSession",children:[(0,Z.jsx)(d.Z.Label,{children:N("courses session")}),(0,Z.jsx)(h.Qr,{control:V,name:"coursesSession",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),o=s.ref;return(0,Z.jsx)(d.Z.Control,{onChange:r,defaultValue:n,ref:o,isInvalid:Y.coursesSession,placeholder:N("seats limit of the InsCourses"),type:"text",size:"sm"})}}),Y.coursesSession&&(0,Z.jsx)(d.Z.Text,{className:"text-danger",children:Y.coursesSession.message})]})}),(0,Z.jsx)(c.Z,{sm:4,children:(0,Z.jsxs)(d.Z.Group,{className:"mb-3",controlId:"coursesProgram",children:[(0,Z.jsx)(d.Z.Label,{children:N("courses program")}),(0,Z.jsx)(h.Qr,{control:V,name:"coursesProgram",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),o=s.ref;return(0,Z.jsx)(d.Z.Control,{onChange:r,defaultValue:n,ref:o,isInvalid:Y.coursesProgram,type:"text",size:"sm"})}}),Y.coursesProgram&&(0,Z.jsx)(d.Z.Text,{className:"text-danger",children:Y.coursesProgram.message})]})})]}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)(c.Z,{sm:4,children:(0,Z.jsx)(l.Z,{size:"sm",className:"mt-2",type:"submit",children:D||_?(0,Z.jsx)(C.Z,{size:"sm",color:"light"}):N("save change")})})})]})})]})})})})})}},1239:function(e,s,r){r.d(s,{p6:function(){return u}});r(2791);var n=r(6431),o=r.n(n),t=r(184);function u(e){var s=new Date(e),r=""+(s.getMonth()+1),n=""+s.getDate(),o=s.getFullYear();return r.length<2&&(r="0"+r),n.length<2&&(n="0"+n),[o,r,n].join("-")}s.ZP=function(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o(),{format:"D MMM YYYY",withTitle:!0,children:e})," ",(0,t.jsx)("br",{})]})}}}]);
//# sourceMappingURL=7010.5de01a40.chunk.js.map