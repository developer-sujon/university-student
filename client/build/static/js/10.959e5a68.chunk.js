"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[10],{1660:function(e,s,r){r.d(s,{Kk:function(){return l},rB:function(){return i},u_:function(){return u},zQ:function(){return d}});var n=r(4165),t=r(5861),o=r(7218),a=o.E.injectEndpoints({endpoints:function(e){return{insCoursesList:e.query({query:function(){return{url:"insCourses/insCoursesList",method:"GET"}}}),insCoursesCreate:e.mutation({query:function(e){return{url:"insCourses/insCoursesCreate",method:"POST",body:e}},onQueryStarted:function(e,s){return(0,t.Z)((0,n.Z)().mark((function e(){var r,t,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.dispatch,t=s.queryFulfilled,e.prev=1,e.next=4,t;case 4:a=e.sent,u=a.data,r(o.E.util.updateQueryData("insCoursesList",void 0,(function(e){e.data.push(u.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),insCoursesUpdate:e.mutation({query:function(e){var s=e.id,r=e.postBody;return{url:"insCourses/insCoursesUpdate/".concat(s),method:"PATCH",body:r}},onQueryStarted:function(e,s){return(0,t.Z)((0,n.Z)().mark((function r(){var t,a,u,i,d;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,e.postBody,a=s.dispatch,u=s.queryFulfilled,r.prev=2,r.next=5,u;case 5:i=r.sent,d=i.data,a(o.E.util.updateQueryData("insCoursesList",void 0,(function(e){var s,r,n,o,a,u=e.data.findIndex((function(e){return e.id===t}));e.data[u].coursesCode=null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.coursesCode,e.data[u].coursesName=null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.coursesName,e.data[u].coursesInstructor=null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.coursesInstructor,e.data[u].resources=null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.resources,e.data[u].coursesHistory=null===d||void 0===d||null===(a=d.data)||void 0===a?void 0:a.coursesHistory}))),d&&window.location.reload(),r.next=13;break;case 11:r.prev=11,r.t0=r.catch(2);case 13:case"end":return r.stop()}}),r,null,[[2,11]])})))()}}),insCoursesDelete:e.mutation({query:function(e){return{url:"insCourses/insCoursesDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,s){return(0,t.Z)((0,n.Z)().mark((function r(){var t,a,u;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.dispatch,a=s.queryFulfilled,u=t(o.E.util.updateQueryData("insCoursesList",void 0,(function(s){s.data=s.data.filter((function(s){return s.id!==e}))}))),r.prev=2,r.next=5,a;case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),u.undo();case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()}})}}}),u=a.useInsCoursesCreateMutation,i=a.useInsCoursesListQuery,d=a.useInsCoursesUpdateMutation,l=a.useInsCoursesDeleteMutation},7010:function(e,s,r){r.r(s);var n=r(9439),t=r(2791),o=r(7689),a=r(7022),u=r(9140),i=r(9743),d=r(2677),l=r(5630),c=r(3360),C=r(4849),m=r(9230),f=r(1134),h=r(4695),I=r(8007),x=r(1724),v=r(1660),p=r(1239),Z=r(184);s.default=function(){var e=(0,t.useState)(null),s=(0,n.Z)(e,2),r=s[0],j=s[1],g=(0,t.useState)({InsCoursesCode:"",InsCoursesName:"",InsCoursesInstructor:"",seatsLimit:0,registrationDeadline:(0,p.p6)(new Date)}),y=(0,n.Z)(g,2),b=y[0],L=y[1],N=(0,m.$G)().t,q=(0,o.s0)(),D=(0,v.rB)().data,w=(0,v.u_)(),Q=(0,n.Z)(w,2),E=Q[0],S=Q[1],k=S.isLoading,B=S.isSuccess,T=(0,v.zQ)(),z=(0,n.Z)(T,2),G=z[0],M=z[1],V=M.isLoading,_=M.isSuccess;(0,t.useEffect)((function(){var e,s=new URLSearchParams(window.location.search).get("id");(null!==s&&j(s),r&&D)&&L(null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.find((function(e){return e.id===r})))}),[r,D]);var F=(0,f.cI)({mode:"onChange",defaultValues:b,resolver:(0,h.X)(I.Ry({InsCoursesCode:I.Z_().required(N("InsInsCoursesname is required")),InsCoursesName:I.Z_().required(N("InsInsCoursesname is required")),InsCoursesInstructor:I.Z_().required(N("InsInsCoursesinstructor is required")),seatsLimit:I.Rx(N("seats limit is required")).required(N("seats limit is required")).min(1,"seats limit must be greater than or equal to 1"),registrationDeadline:I.hT().required(N("InsInsCoursesregistration deadline is required"))}))}),Y=F.control,P=F.handleSubmit,R=F.reset,U=(F.watch,F.setValue,F.formState.errors);(0,t.useEffect)((function(){b&&R(b)}),[b]);return(0,t.useEffect)((function(){(B||_)&&q("/elective-InsCourses")}),[B,_]),(0,Z.jsx)(x.Z,{children:(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(u.Z.Body,{children:(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)("h5",{children:N("".concat(r?"update InsCourses":"save InsCourses"))}),(0,Z.jsx)("hr",{className:"bg-light"}),(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(l.Z,{onSubmit:P((function(e){var s={coursesCode:e.InsCoursesCode,coursesName:e.InsCoursesName,coursesInstructor:e.InsCoursesInstructor,seatsLimit:e.seatsLimit,registrationDeadline:e.registrationDeadline};r?G({id:r,postBody:s}):E(s)})),onReset:R,children:[(0,Z.jsxs)(i.Z,{class:!0,children:[(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"InsCoursesCode",children:[(0,Z.jsx)(l.Z.Label,{children:N("InsInsCoursescode")}),(0,Z.jsx)(f.Qr,{control:Y,name:"InsCoursesCode",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:r,defaultValue:n,ref:t,isInvalid:U.InsCoursesCode,placeholder:N("InsInsCoursescode of the InsCourses"),type:"text",size:"sm"})}}),U.InsCoursesCode&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.InsCoursesCode.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"InsCoursesName",children:[(0,Z.jsx)(l.Z.Label,{children:N("InsInsCoursesname")}),(0,Z.jsx)(f.Qr,{control:Y,name:"InsCoursesName",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:r,defaultValue:n,ref:t,isInvalid:U.InsCoursesName,placeholder:N("InsInsCoursesname of the InsCourses"),type:"text",size:"sm"})}}),U.InsCoursesName&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.InsCoursesName.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"InsCoursesInstructor",children:[(0,Z.jsx)(l.Z.Label,{children:N("InsInsCoursesinstructor")}),(0,Z.jsx)(f.Qr,{control:Y,name:"InsCoursesInstructor",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:r,defaultValue:n,ref:t,isInvalid:U.InsCoursesInstructor,placeholder:N("InsInsCoursesinstructor of the InsCourses"),type:"text",size:"sm"})}}),U.InsCoursesInstructor&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.InsCoursesInstructor.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"seatsLimit",children:[(0,Z.jsx)(l.Z.Label,{children:N("seats limit")}),(0,Z.jsx)(f.Qr,{control:Y,name:"seatsLimit",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:r,defaultValue:n,ref:t,isInvalid:U.seatsLimit,placeholder:N("seats limit of the InsCourses"),type:"number",size:"sm"})}}),U.seatsLimit&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.seatsLimit.message})]})}),(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsxs)(l.Z.Group,{className:"mb-3",controlId:"registrationDeadline",children:[(0,Z.jsx)(l.Z.Label,{children:N("registration deadline")}),(0,Z.jsx)(f.Qr,{control:Y,name:"registrationDeadline",render:function(e){var s=e.field,r=s.onChange,n=(s.onBlur,s.value),t=s.ref;return(0,Z.jsx)(l.Z.Control,{onChange:r,defaultValue:n,ref:t,isInvalid:U.registrationDeadline,type:"date",size:"sm"})}}),U.registrationDeadline&&(0,Z.jsx)(l.Z.Text,{className:"text-danger",children:U.registrationDeadline.message})]})})]}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)(d.Z,{sm:4,children:(0,Z.jsx)(c.Z,{size:"sm",className:"mt-2",type:"submit",children:k||V?(0,Z.jsx)(C.Z,{size:"sm",color:"light"}):N("save change")})})})]})})]})})})})})}},1239:function(e,s,r){r.d(s,{p6:function(){return a}});r(2791);var n=r(6431),t=r.n(n),o=r(184);function a(e){var s=new Date(e),r=""+(s.getMonth()+1),n=""+s.getDate(),t=s.getFullYear();return r.length<2&&(r="0"+r),n.length<2&&(n="0"+n),[t,r,n].join("-")}s.ZP=function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t(),{format:"D MMM YYYY",withTitle:!0,children:e})," ",(0,o.jsx)("br",{})]})}}}]);
//# sourceMappingURL=10.959e5a68.chunk.js.map