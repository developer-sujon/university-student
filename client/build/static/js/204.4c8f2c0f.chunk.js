"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[204],{283:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(3433),s=t(1413),a=t(5987),i=t(9439),o=t(2791),l=t(1358),u=t(1694),c=t.n(u),d=t(1087),p=t(6053),f=t(184),h=function(e){var n=e.tableProps,t=e.sizePerPageList,r=e.link,s=(0,o.useState)(n.pageCount),a=(0,i.Z)(s,2),l=a[0],u=a[1],h=(0,o.useState)(n.state.pageIndex),m=(0,i.Z)(h,2),x=m[0],g=m[1];(0,o.useEffect)((function(){u(n.pageCount),g(n.state.pageIndex)}),[n.pageCount,n.state.pageIndex]);var v=(0,o.useCallback)((function(e,n){return e.filter((function(e){return e<=l}))}),[l]),b=(0,o.useCallback)((function(e,n){return n<7?v([1,2,3,4,5,6],n):e%5>=0&&e>4&&e+2<n?[1,e-1,e,e+1,n]:e%5>=0&&e>4&&e+2>=n?[1,n-3,n-2,n-1,n]:[1,2,3,4,5,n]}),[v]),j=function(e){if(e!==x+1){var t=b(e,l);w(v(t,l)),n.gotoPage(e-1)}};(0,o.useEffect)((function(){var e=b(0,l);w(e)}),[l,b]);var Z=(0,o.useState)(b(0,l)),C=(0,i.Z)(Z,2),y=C[0],w=C[1],k=x+1;return(0,f.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[t.length>0&&(0,f.jsxs)("div",{className:"d-inline-block me-3",children:[(0,f.jsx)("label",{className:"me-1",children:"Display :"}),(0,f.jsx)("select",{value:n.state.pageSize,onChange:function(e){n.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(t||[]).map((function(e,n){return(0,f.jsx)("option",{value:e.value,children:e.text},n)}))})]}),(0,f.jsxs)("span",{className:"me-3",children:["Page"," ",(0,f.jsxs)("strong",{children:[x+1," of ",n.pageOptions.length]})," "]}),(0,f.jsxs)("span",{className:"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2",children:[(0,f.jsx)("label",{children:"Go to page : "}),(0,f.jsx)("input",{type:"number",value:x+1,min:"1",onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;n.gotoPage(t),g(n.state.pageIndex)},className:"form-control w-25 ms-1 d-inline-block"})]}),(0,f.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,f.jsx)("li",{className:c()("page-item","paginate_button","previous",{disabled:1===k}),onClick:function(){1!==k&&j(k-1)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:(0,f.jsx)(p.Ugn,{})})},"prevpage"),(y||[]).map((function(e,n,t){return t[n-1]+1<e?(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:"..."})}),(0,f.jsx)("li",{className:c()("page-item","d-none","d-xl-inline-block",{active:k===e}),onClick:function(n){return j(e)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:e})})]},e):(0,f.jsx)("li",{className:c()("page-item","d-none","d-xl-inline-block",{active:k===e}),onClick:function(n){return j(e)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:e})},e)})),(0,f.jsx)("li",{className:c()("page-item","paginate_button","next",{disabled:k===n.pageCount}),onClick:function(){k!==n.pageCount&&j(k+1)},children:(0,f.jsx)(d.rU,{to:r,className:"page-link",children:(0,f.jsx)(p.ULj,{})})},"nextpage")]})]})},m=["indeterminate"],x=function(e){var n=e.preGlobalFilteredRows,t=e.globalFilter,r=e.setGlobalFilter,s=e.searchBoxClass,a=n.length,u=o.useState(t),d=(0,i.Z)(u,2),p=d[0],h=d[1],m=(0,l.useAsyncDebounce)((function(e){r(e||void 0)}),200);return(0,f.jsx)("div",{className:c()(s),children:(0,f.jsxs)("span",{className:"d-flex align-items-center",children:["Search :"," ",(0,f.jsx)("input",{value:p||"",onChange:function(e){h(e.target.value),m(e.target.value)},placeholder:"".concat(a," records..."),className:"form-control w-auto ms-1"})]})})},g=(0,o.forwardRef)((function(e,n){var t=e.indeterminate,r=(0,a.Z)(e,m),i=(0,o.useRef)(),l=n||i;return(0,o.useEffect)((function(){l.current.indeterminate=t}),[l,t]),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"form-check",children:[(0,f.jsx)("input",(0,s.Z)({type:"checkbox",className:"form-check-input",ref:l},r)),(0,f.jsx)("label",{htmlFor:"form-check-input",className:"form-check-label"})]})})})),v=function(e){var n=e.isSearchable||!1,t=e.isSortable||!1,a=e.pagination||!1,i=e.isSelectable||!1,o=e.isExpandable||!1,u=(0,l.useTable)({columns:e.columns,data:e.data,initialState:{pageSize:e.pageSize||10}},n&&l.useGlobalFilter,t&&l.useSortBy,o&&l.useExpanded,a&&l.usePagination,i&&l.useRowSelect,(function(e){i&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var n=e.getToggleAllPageRowsSelectedProps;return(0,f.jsx)("div",{children:(0,f.jsx)(g,(0,s.Z)({},n()))})},Cell:function(e){var n=e.row;return(0,f.jsx)("div",{children:(0,f.jsx)(g,(0,s.Z)({},n.getToggleRowSelectedProps()))})}}].concat((0,r.Z)(e))})),o&&e.visibleColumns.push((function(e){return[{id:"expander",Header:function(e){var n=e.getToggleAllRowsExpandedProps,t=e.isAllRowsExpanded;return(0,f.jsx)("span",(0,s.Z)((0,s.Z)({},n()),{},{children:t?"-":"+"}))},Cell:function(e){var n=e.row;return n.canExpand?(0,f.jsx)("span",(0,s.Z)((0,s.Z)({},n.getToggleRowExpandedProps({style:{paddingLeft:"".concat(2*n.depth,"rem")}})),{},{children:n.isExpanded?"-":"+"})):null}}].concat((0,r.Z)(e))}))})),d=a?u.page:u.rows;return(0,f.jsxs)(f.Fragment,{children:[n&&(0,f.jsx)(x,{preGlobalFilteredRows:u.preGlobalFilteredRows,globalFilter:u.state.globalFilter,setGlobalFilter:u.setGlobalFilter,searchBoxClass:e.searchBoxClass}),(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",(0,s.Z)((0,s.Z)({},u.getTableProps()),{},{className:c()("table table-centered react-table",e.tableClass),children:[(0,f.jsx)("thead",{className:e.theadClass,children:u.headerGroups.map((function(e){return(0,f.jsx)("tr",(0,s.Z)((0,s.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,f.jsx)("th",(0,s.Z)((0,s.Z)({},e.getHeaderProps(e.sort&&e.getSortByToggleProps())),{},{className:c()({sorting_desc:!0===e.isSortedDesc,sorting_asc:!1===e.isSortedDesc,sortable:!0===e.sort}),children:e.render("Header")}))}))}))}))}),(0,f.jsx)("tbody",(0,s.Z)((0,s.Z)({},u.getTableBodyProps()),{},{children:(d||[]).map((function(e,n){return u.prepareRow(e),(0,f.jsx)("tr",(0,s.Z)((0,s.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,f.jsx)("td",(0,s.Z)((0,s.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),a&&(0,f.jsx)(h,{link:e.link,tableProps:u,sizePerPageList:e.sizePerPageList})]})}},4450:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(3433),s=t(1413),a=t(9439),i=t(5987),o=t(2791),l=t(4165),u=t(7762),c=t(5861),d=t(1243),p=function(){var e=(0,o.useState)(!1),n=(0,a.Z)(e,2),t=n[0],s=n[1],i=(0,o.useState)([]),p=(0,a.Z)(i,2),f=p[0],h=p[1],m=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(n){var t,a,i,o,c,p;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=+new Date,a=new FormData,i=[],o=(0,u.Z)(n),e.prev=4,p=(0,l.Z)().mark((function e(){var n,o,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.value,a.append("file",n),a.append("cloud_name","ds199wmf0"),a.append("upload_preset","university-student"),s(!0),e.prev=5,e.next=8,(0,d.Z)({url:"https://api.cloudinary.com/v1_1/ds199wmf0/auto/upload",headers:{"Content-Type":"multipart/form-data","X-Unique-Upload-Id":t},method:"POST",data:a,onUploadProgress:function(e){var t=Math.round(100*e.progress);h([].concat((0,r.Z)(f),[{fileName:n.name,fileSize:n.size,progress:t}]))}});case 8:o=e.sent,u=o.data,i.push({url:u.secure_url,type:u.resource_type}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})),o.s();case 7:if((c=o.n()).done){e.next=11;break}return e.delegateYield(p(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),o.e(e.t1);case 16:return e.prev=16,o.f(),e.finish(16);case 19:return s(!1),e.abrupt("return",i);case 21:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(n){return e.apply(this,arguments)}}();return{loading:t,fileInfo:f,upload:m}},f=t(5316),h=t(7022),m=t(5630),x=t(3360),g=t(9230),v=t(184),b=["modalData"];var j=function(e){var n=e.modalData,t=(0,i.Z)(e,b),l=((0,g.$G)().t,p()),u=l.loading,c=l.upload,d=l.fileInfo,j=(0,o.useState)(null),Z=(0,a.Z)(j,2),C=Z[0],y=Z[1];return(0,v.jsxs)(f.Z,(0,s.Z)((0,s.Z)({},n),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,v.jsx)(f.Z.Header,{closeButton:!0,children:(0,v.jsxs)(f.Z.Title,{id:"contained-modal-title-vcenter",children:[u?"Uploading Please wait...":"Upload File"," "]})}),(0,v.jsx)(f.Z.Body,{children:(0,v.jsx)(h.Z,{children:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{id:"FileUpload",children:(0,v.jsxs)("div",{class:"wrapper",children:[(0,v.jsx)("div",{class:"upload",children:(0,v.jsxs)(m.Z.Group,{controlId:"formFile",className:"mb-3 ",children:[(0,v.jsx)(m.Z.Label,{children:(0,v.jsx)("p",{children:(0,v.jsx)("span",{class:"upload__button",children:"Browse"})})}),(0,v.jsx)(m.Z.Control,{className:"d-none",type:"file",accept:"image/*,video/*,pdf/*,pptx/*",onChange:function(e){return y(e.target.files)},multiple:!0})]})}),d.length?d.map((function(e){return(0,v.jsx)("div",{class:"uploaded uploaded--one",children:(0,v.jsxs)("div",{class:"file",children:[(0,v.jsxs)("div",{class:"file__name d-flex px-3",children:[(0,v.jsx)("p",{children:e.fileName}),(0,v.jsx)("i",{class:"fas fa-times"}),100===e.progress?"Upload completed":"loading ".concat(e.progress,"%")]}),(0,v.jsx)("div",{class:"progress px-1",children:(0,v.jsx)("div",{class:"progress-bar bg-success progress-bar-striped progress-bar-animated",style:{width:"".concat(e.progress,"%")}})})]})})})):""]})})})})}),(0,v.jsxs)(f.Z.Footer,{children:[(0,v.jsx)(x.Z,{onClick:n.onHide,children:"Close"}),(0,v.jsxs)(x.Z,{className:"mx-2",onClick:function(){return function(e){c(e).then((function(e){var n=e.map((function(e){return{folderId:t.folderId,id:Date.now(),url:e.url,type:e.type}})),a=(0,s.Z)((0,s.Z)({},t.course),{},{resources:[].concat((0,r.Z)(t.course.resources),(0,r.Z)(n))});delete a.id,delete a.createdAt,delete a.updatedAt,t.submitHandler({id:t.course.id,postBody:a})})).catch((function(e){return console.log(e)}))}(C)},children:["Submit"," "]})]})]}))}},1828:function(e,n,t){var r=t(1413),s=t(5671),a=t(3144),i=t(1830),o=t.n(i),l=t(6787),u=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,null,[{key:"Delete",value:function(e,n){return o().fire({title:l.Z.t("Are you sure?"),text:l.Z.t("You won't be able to revert this!"),icon:l.Z.t("warning"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:l.Z.t("Cancel")}).then((function(t){if(t.isConfirmed)return n(e).then((function(e){if(e)return!0}))}))}},{key:"Update",value:function(e,n){return o().fire({title:"Do you want to enrolled courses?",showCancelButton:!0,confirmButtonText:"yes"}).then((function(t){if(t.isConfirmed)return n({coursesID:e}).then((function(e){return o().fire("enrolled!","","success"),window.location.reload(),e}));t.isDenied&&o().fire("Changes are not saved","","info")}))}},{key:"StatusUpdate",value:function(e,n,t){return o().fire({title:"Change Status",input:"select",inputOptions:{PENDING:"PENDING",REJECTED:"REJECTED",APPROVED:"APPROVED"}}).then((function(s){if(s.isConfirmed)return t({id:e,postBody:(0,r.Z)((0,r.Z)({},n),{},{status:s.value})}).then((function(e){return e}))}))}}]),e}();n.Z=u},1660:function(e,n,t){t.d(n,{Kk:function(){return c},rB:function(){return l},u_:function(){return o},zQ:function(){return u}});var r=t(4165),s=t(5861),a=t(7218),i=a.E.injectEndpoints({endpoints:function(e){return{insCoursesList:e.query({query:function(){return{url:"insCourses/insCoursesList",method:"GET"}}}),insCoursesCreate:e.mutation({query:function(e){return{url:"insCourses/insCoursesCreate",method:"POST",body:e}},onQueryStarted:function(e,n){return(0,s.Z)((0,r.Z)().mark((function e(){var t,s,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.dispatch,s=n.queryFulfilled,e.prev=1,e.next=4,s;case 4:i=e.sent,o=i.data,t(a.E.util.updateQueryData("insCoursesList",void 0,(function(e){e.data.push(o.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),insCoursesUpdate:e.mutation({query:function(e){var n=e.id,t=e.postBody;return{url:"insCourses/insCoursesUpdate/".concat(n),method:"PATCH",body:t}},onQueryStarted:function(e,n){return(0,s.Z)((0,r.Z)().mark((function t(){var s,i,o,l,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.id,e.postBody,i=n.dispatch,o=n.queryFulfilled,t.prev=2,t.next=5,o;case 5:l=t.sent,u=l.data,i(a.E.util.updateQueryData("insCoursesList",void 0,(function(e){var n,t,r,a,i,o=e.data.findIndex((function(e){return e.id===s}));e.data[o].coursesCode=null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.coursesCode,e.data[o].coursesName=null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.coursesName,e.data[o].coursesInstructor=null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.coursesInstructor,e.data[o].resources=null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.resources,e.data[o].coursesHistory=null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.coursesHistory}))),u&&window.location.reload(),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}),insCoursesDelete:e.mutation({query:function(e){return{url:"insCourses/insCoursesDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,n){return(0,s.Z)((0,r.Z)().mark((function t(){var s,i,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.dispatch,i=n.queryFulfilled,o=s(a.E.util.updateQueryData("insCoursesList",void 0,(function(n){n.data=n.data.filter((function(n){return n.id!==e}))}))),t.prev=2,t.next=5,i;case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),o.undo();case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()}})}}}),o=i.useInsCoursesCreateMutation,l=i.useInsCoursesListQuery,u=i.useInsCoursesUpdateMutation,c=i.useInsCoursesDeleteMutation},1239:function(e,n,t){t.d(n,{p6:function(){return i}});t(2791);var r=t(6431),s=t.n(r),a=t(184);function i(e){var n=new Date(e),t=""+(n.getMonth()+1),r=""+n.getDate(),s=n.getFullYear();return t.length<2&&(t="0"+t),r.length<2&&(r="0"+r),[s,t,r].join("-")}n.ZP=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{format:"D MMM YYYY",withTitle:!0,children:e})," ",(0,a.jsx)("br",{})]})}}}]);
//# sourceMappingURL=204.4c8f2c0f.chunk.js.map