"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[603],{7450:function(e,t,s){s.d(t,{TC:function(){return o},e_:function(){return d},qD:function(){return u},zC:function(){return l}});var n=s(4165),a=s(5861),r=s(7218),i=r.E.injectEndpoints({endpoints:function(e){return{retakeAssessmentList:e.query({query:function(){return{url:"retakeAssessment/retakeAssessmentList",method:"GET"}}}),retakeAssessmentCreate:e.mutation({query:function(e){return{url:"retakeAssessment/retakeAssessmentCreate",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function e(){var s,a,i,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.dispatch,a=t.queryFulfilled,e.prev=1,e.next=4,a;case 4:i=e.sent,d=i.data,s(r.E.util.updateQueryData("retakeAssessmentList",void 0,(function(e){e.data.push(d.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),retakeAssessmentUpdate:e.mutation({query:function(e){var t=e.id,s=e.postBody;return{url:"retakeAssessment/retakeAssessmentUpdate/".concat(t),method:"PATCH",body:s}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function s(){var a,i,d,l,o;return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=e.id,e.postBody,i=t.dispatch,d=t.queryFulfilled,s.prev=2,s.next=5,d;case 5:l=s.sent,o=l.data,i(r.E.util.updateQueryData("retakeAssessmentList",void 0,(function(e){var t,s=e.data.findIndex((function(e){return e.id===a}));e.data[s].assessmentType=null===o||void 0===o?void 0:o.data.assessmentType,e.data[s].instructor=null===o||void 0===o?void 0:o.data.instructor,e.data[s].reason=null===o||void 0===o?void 0:o.data.reason,e.data[s].status=null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.status,e.data[s].studentID=null===o||void 0===o?void 0:o.data.studentID,e.data[s].subject=null===o||void 0===o?void 0:o.data.subject}))),s.next=12;break;case 10:s.prev=10,s.t0=s.catch(2);case 12:case"end":return s.stop()}}),s,null,[[2,10]])})))()}}),retakeAssessmentDelete:e.mutation({query:function(e){return{url:"retakeAssessment/retakeAssessmentDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,t){return(0,a.Z)((0,n.Z)().mark((function s(){var a,i,d;return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.dispatch,i=t.queryFulfilled,d=a(r.E.util.updateQueryData("retakeAssessmentList",void 0,(function(t){t.data=t.data.filter((function(t){return t.id!==e}))}))),s.prev=2,s.next=5,i;case 5:s.next=10;break;case 7:s.prev=7,s.t0=s.catch(2),d.undo();case 10:case"end":return s.stop()}}),s,null,[[2,7]])})))()}})}}}),d=i.useRetakeAssessmentCreateMutation,l=i.useRetakeAssessmentListQuery,o=i.useRetakeAssessmentUpdateMutation,u=i.useRetakeAssessmentDeleteMutation},9603:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var n=s(5987),a=s(9439),r=s(2791),i=s(5736),d=s(7798),l=s(2576),o=s(3360),u=s(7022),c=s(9140),v=s(9743),p=s(2677),h=s(4849),m=s(9230),x=s(8820),f=s(1087),j=s(9126),y=s(6053),Z=s(1724),k=s(7450),A=s(283),D=s(1828),N=s(396),b=s(5316),E=s(184),T=function(e){var t=e.show,s=e.handleClose,n=e.singleRetakeAssessment,a=(0,m.$G)().t;return(0,E.jsxs)(b.Z,{show:t,onHide:s,children:[(0,E.jsx)(b.Z.Header,{closeButton:!0,children:(0,E.jsxs)(b.Z.Title,{children:[a("subject"),": ",null===n||void 0===n?void 0:n.subject]})}),(0,E.jsxs)(b.Z.Body,{children:[(0,E.jsxs)("p",{children:[a("instructor"),": ",null===n||void 0===n?void 0:n.instructor]})," ",(0,E.jsxs)("p",{children:[a("assessment type"),": ",null===n||void 0===n?void 0:n.assessmentType]})]}),(0,E.jsx)(b.Z.Footer,{children:(0,E.jsx)(o.Z,{variant:"primary",onClick:s,children:a("close")})})]})},g=["id","createdAt","updatedAt","studentID"],C=function(){var e,t=(0,r.useState)(!1),s=(0,a.Z)(t,2),b=s[0],C=s[1],w=(0,r.useState)({}),I=(0,a.Z)(w,2),S=I[0],P=I[1],U=(0,N.IQ)().data,q=(0,k.TC)(),H=(0,a.Z)(q,1)[0],L=(0,m.$G)().t,M=(0,k.zC)(),Q=M.data,R=M.isLoading,z=(0,k.qD)(),G=(0,a.Z)(z,1)[0],B=(null===Q||void 0===Q?void 0:Q.data)||[],F=function(e){P(e),C(!0)},$=[{Header:"#",accessor:function(e,t){return t+1},sort:!0},{Header:L("student id"),accessor:function(e){return(0,E.jsxs)("span",{className:"ms-1",children:[" ",e.studentID]})},sort:!0},{Header:L("subject"),accessor:function(e){return(0,E.jsxs)("span",{className:"ms-1",children:[" ",e.subject]})},sort:!0},{Header:L("instructor"),accessor:function(e){return e.instructor},sort:!0},{Header:L("assessment type"),accessor:function(e){return(0,E.jsxs)("span",{className:"ms-1",children:[" ",e.assessmentType]})},sort:!0},{Header:L("status"),accessor:function(e){return(0,E.jsx)("div",{className:"bodySmall",children:"PENDING"===(null===e||void 0===e?void 0:e.status)?(0,E.jsx)(i.Z,{bg:"primary",pill:!0,children:(0,E.jsx)("span",{className:"ms-1",children:L(null===e||void 0===e?void 0:e.status)})}):"REJECTED"===(null===e||void 0===e?void 0:e.status)?(0,E.jsx)(i.Z,{bg:"danger",pill:!0,children:(0,E.jsx)("span",{className:"ms-1",children:L(null===e||void 0===e?void 0:e.status)})}):"APPROVED"===(null===e||void 0===e?void 0:e.status)?(0,E.jsx)(i.Z,{bg:"success",pill:!0,children:(0,E.jsx)("span",{className:"ms-1",children:L(null===e||void 0===e?void 0:e.status)})}):""})},sort:!0},{Header:L("action"),accessor:function(e){var t,s,a,r,i;return(0,E.jsxs)("div",{className:"bodySmall",children:[(0,E.jsx)(d.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(l.Z,{id:"button-tooltip",children:L("view")}),children:(0,E.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},onClick:function(){return F(e)},children:(0,E.jsx)(x.$aU,{})})}),"STUDENT"!==(null===U||void 0===U||null===(t=U.data)||void 0===t?void 0:t.role)&&(0,E.jsx)(d.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(l.Z,{id:"button-tooltip",children:L("status")}),children:(0,E.jsx)(o.Z,{className:"mr-10",variant:"warning",style:{padding:"5px 10px"},onClick:function(){return function(e){var t=e.id,s=(e.createdAt,e.updatedAt,e.studentID,(0,n.Z)(e,g));D.Z.StatusUpdate(t,s,H)}(e)},children:(0,E.jsx)(y.aXP,{})})}),(0,E.jsx)(d.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(l.Z,{id:"button-tooltip",children:L("edit")}),children:(0,E.jsx)(f.rU,{to:"/retake-assessment-create-update?id=".concat(null===e||void 0===e?void 0:e.id),onClick:function(t){var s,n;return"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===U||void 0===U||null===(s=U.data)||void 0===s?void 0:s.role)||"ADMIN"===(null===U||void 0===U||null===(n=U.data)||void 0===n?void 0:n.role)?t.preventDefault():void 0},children:(0,E.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===U||void 0===U||null===(s=U.data)||void 0===s?void 0:s.role)||"ADMIN"===(null===U||void 0===U||null===(a=U.data)||void 0===a?void 0:a.role),children:(0,E.jsx)(x.$iz,{})})})}),(0,E.jsx)(d.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,E.jsx)(l.Z,{id:"button-tooltip",children:L("delete")}),children:(0,E.jsx)(o.Z,{variant:"danger",style:{padding:"5px 10px"},onClick:function(){return t=e.id,void D.Z.Delete(t,G);var t},disabled:"PENDING"!==(null===e||void 0===e?void 0:e.status)&&"STUDENT"===(null===U||void 0===U||null===(r=U.data)||void 0===r?void 0:r.role)||"ADMIN"===(null===U||void 0===U||null===(i=U.data)||void 0===i?void 0:i.role),children:(0,E.jsx)(j.yvY,{})})})]})}}],_=[{text:L("5"),value:5},{text:L("10"),value:10},{text:L("25"),value:25},{text:L("all"),value:null===B||void 0===B?void 0:B.length}];return(0,E.jsxs)(Z.Z,{children:[(0,E.jsx)(u.Z,{children:(0,E.jsx)(c.Z,{children:(0,E.jsx)(c.Z.Body,{children:(0,E.jsxs)(v.Z,{children:[(0,E.jsxs)(p.Z,{className:"d-flex justify-content-between p-2",sm:12,children:[(0,E.jsx)("h5",{children:L("retake assessment")}),(0,E.jsx)(f.rU,{to:"/retake-assessment-create-update",onClick:function(e){var t;return"ADMIN"===(null===U||void 0===U||null===(t=U.data)||void 0===t?void 0:t.role)?e.preventDefault():void 0},children:(0,E.jsx)(o.Z,{size:"sm",variant:"primary",disabled:"ADMIN"===(null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.role),children:L("create retake assessment")})})]}),(0,E.jsx)(p.Z,{sm:12,children:R?(0,E.jsx)(h.Z,{size:"lg",variant:"primary"}):null!==B&&void 0!==B&&B.length?(0,E.jsx)(A.Z,{columns:$,data:B,pageSize:5,sizePerPageList:_,isSortable:!0,pagination:!0}):L("no data found")})]})})})}),(0,E.jsx)(T,{singleRetakeAssessment:S,show:b,handleClose:function(){return C(!1)}})]})}}}]);
//# sourceMappingURL=603.c5a2d709.chunk.js.map