"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[555],{295:function(e,n,r){r.d(n,{Z:function(){return c}});var s=r(4658),t=r(7022),a=r(8820),o=r(1087),i=r(4427),u=r(184),l=function(e){var n=e.title;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("title",{children:n}),(0,u.jsx)(s.Z,{className:"fixed-top px-0 shadow-sm ",children:(0,u.jsx)(t.Z,{fluid:!0,children:(0,u.jsxs)(s.Z.Brand,{children:[(0,u.jsx)("button",{className:"icon-nav m-0 h5 btn btn-link",children:(0,u.jsx)(a.n5H,{})}),(0,u.jsx)(o.rU,{to:"/",children:(0,u.jsx)("img",{className:"nav-logo mx-2",src:i,alt:"logo"})})]})})})]})},c=function(e){var n=e.children,r=e.title;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l,{title:r}),n]})}},2654:function(e,n,r){r.d(n,{YA:function(){return u},gL:function(){return m},l4:function(){return l},qQ:function(){return d},zN:function(){return c}});var s=r(4165),t=r(5861),a=r(4948),o=r(6789),i=r(7218).E.injectEndpoints({endpoints:function(e){return{register:e.mutation({query:function(e){return{url:"auth/register",method:"POST",body:e}}}),login:e.mutation({query:function(e){return{url:"auth/login",method:"POST",body:e}},onQueryStarted:function(e,n){return(0,t.Z)((0,s.Z)().mark((function e(){var r,t,a,i,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.queryFulfilled,t=n.dispatch,e.prev=1,e.next=4,r;case 4:u=e.sent,t((0,o.R9)(null===(a=u.data)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.accessToken)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}),forgotPassword:e.mutation({query:function(e){return{url:"auth/forgotPassword",method:"POST",body:e}}}),verifyEmail:e.mutation({query:function(e){var n=e.email,r=e.otp;return{url:"auth/verifyEmail?otp=".concat(r),method:"POST",body:{email:n}}}}),resetPassword:e.mutation({query:function(e){var n=e.password,r=e.email,s=e.otp;return{url:"auth/resetPassword?otp=".concat(s),method:"POST",body:{password:n,email:r}}},onQueryStarted:function(e,n){return(0,t.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.queryFulfilled,n.dispatch,e.prev=1,e.next=4,r;case 4:e.sent,a.Z.ResetOtp(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}})}}}),u=i.useLoginMutation,l=i.useRegisterMutation,c=i.useForgotPasswordMutation,d=i.useVerifyEmailMutation,m=i.useResetPasswordMutation},8462:function(e,n,r){r.d(n,{Hq:function(){return u},T6:function(){return c},TX:function(){return i},Tn:function(){return l},uM:function(){return d}});var s=r(4165),t=r(5861),a=r(7218),o=a.E.injectEndpoints({endpoints:function(e){return{sessionList:e.query({query:function(){return{url:"session/sessionList",method:"GET"}}}),sessionDropDown:e.query({query:function(){return{url:"session/sessionDropDown",method:"GET"}}}),sessionCreate:e.mutation({query:function(e){return{url:"session/sessionCreate",method:"POST",body:e}},onQueryStarted:function(e,n){return(0,t.Z)((0,s.Z)().mark((function e(){var r,t,o,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,t=n.queryFulfilled,e.prev=1,e.next=4,t;case 4:o=e.sent,i=o.data,r(a.E.util.updateQueryData("sessionList",void 0,(function(e){e.data.push(i.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),sessionUpdate:e.mutation({query:function(e){var n=e.id,r=e.postBody;return{url:"session/sessionUpdate/".concat(n),method:"PATCH",body:r}},onQueryStarted:function(e,n){return(0,t.Z)((0,s.Z)().mark((function r(){var t,o,i,u,l;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,e.postBody,o=n.dispatch,i=n.queryFulfilled,r.prev=2,r.next=5,i;case 5:u=r.sent,l=u.data,o(a.E.util.updateQueryData("sessionList",void 0,(function(e){var n,r,s=e.data.findIndex((function(e){return e.id===t}));e.data[s].sessionName=null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.sessionName,e.data[s].sessionYear=null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.sessionYear}))),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:case"end":return r.stop()}}),r,null,[[2,10]])})))()}}),sessionDelete:e.mutation({query:function(e){return{url:"session/sessionDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,n){return(0,t.Z)((0,s.Z)().mark((function r(){var t,o,i;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.dispatch,o=n.queryFulfilled,i=t(a.E.util.updateQueryData("sessionList",void 0,(function(n){n.data=n.data.filter((function(n){return n.id!==e}))}))),r.prev=2,r.next=5,o;case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),i.undo();case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()}})}}}),i=o.useSessionCreateMutation,u=o.useSessionListQuery,l=o.useSessionUpdateMutation,c=o.useSessionDeleteMutation,d=o.useSessionDropDownQuery},3555:function(e,n,r){r.r(n);var s=r(5987),t=r(9439),a=r(2791),o=r(7689),i=r(1087),u=r(9743),l=r(2677),c=r(9140),d=r(5630),m=r(4849),f=r(1134),p=r(4695),h=r(9230),x=r(8007),v=r(5048),j=r(2654),w=r(295),Z=r(8462),g=r(184),y=["confirmPassword"];n.default=function(){var e=(0,o.s0)(),n=(0,j.l4)(),r=(0,t.Z)(n,2),b=r[0],q=r[1],N=q.isLoading,P=q.isSuccess,S=(0,Z.uM)().data,C=(0,h.$G)().t,T=(0,v.v9)((function(e){return e.authReducer})).accessToken,k=(0,f.cI)({mode:"onChange",defaultValues:{name:"",email:"",session:"",password:""},resolver:(0,p.X)(x.Ry({name:x.Z_().required(C("name is required")),email:x.Z_().required(C("email number is required")).email(C("invalid email address")),session:x.Z_().required(C("session is required")),password:x.Z_().required(C("password is required.")).min(8,C("password must be 8 digits long")),confirmPassword:x.Z_().required(C("confirm password is required")).oneOf([x.iH("password"),null],C("password and confirm password must match"))}))}),E=k.control,Q=k.handleSubmit,L=k.reset,D=k.formState.errors;return(0,a.useEffect)((function(){(P||T)&&e("/login")}),[P,T]),(0,g.jsx)(w.Z,{children:(0,g.jsx)("div",{className:"auth-wrapper pt-5 mt-5",children:(0,g.jsx)("div",{className:"auth-content",children:(0,g.jsx)("div",{className:"auth-wrapper",children:(0,g.jsx)("div",{className:"auth-content",children:(0,g.jsx)(u.Z,{className:"justify-content-center",children:(0,g.jsx)(l.Z,{xl:8,className:"center-screen",children:(0,g.jsx)(c.Z,{className:"w-100",children:(0,g.jsxs)(c.Z.Body,{children:[(0,g.jsx)("h5",{children:C("sign up")}),(0,g.jsx)("br",{}),(0,g.jsxs)(d.Z,{onSubmit:Q((function(e){e.confirmPassword;var n=(0,s.Z)(e,y);b(n)})),onReset:L,children:[(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"name",children:[(0,g.jsx)(d.Z.Label,{children:C("name")}),(0,g.jsx)(f.Qr,{control:E,name:"name",render:function(e){var n=e.field,r=n.onChange,s=(n.onBlur,n.value),t=n.ref;return(0,g.jsx)(d.Z.Control,{onChange:r,value:s,ref:t,isInvalid:D.name,placeholder:C("name"),type:"name"})}}),D.name&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:D.name.message})]}),(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"email",children:[(0,g.jsx)(d.Z.Label,{children:C("email")}),(0,g.jsx)(f.Qr,{control:E,name:"email",render:function(e){var n=e.field,r=n.onChange,s=(n.onBlur,n.value),t=n.ref;return(0,g.jsx)(d.Z.Control,{onChange:r,value:s,ref:t,isInvalid:D.email,placeholder:C("email"),type:"email"})}}),D.email&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:D.email.message})]}),(0,g.jsx)(l.Z,{sm:12,children:(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"session",children:[(0,g.jsx)(d.Z.Label,{children:C("session")}),(0,g.jsx)(f.Qr,{control:E,name:"session",render:function(e){var n,r,s=e.field,t=s.onChange,a=(s.onBlur,s.value),o=s.ref;return(0,g.jsxs)(d.Z.Select,{onChange:t,value:a,ref:o,isInvalid:D.session,placeholder:C("name of the session"),type:"text",size:"sm",children:[(0,g.jsx)("option",{value:"",children:C("choice session")}),(null===S||void 0===S||null===(n=S.data)||void 0===n?void 0:n.length)>0&&(null===S||void 0===S||null===(r=S.data)||void 0===r?void 0:r.map((function(e){return(0,g.jsx)("option",{value:null===e||void 0===e?void 0:e.label,children:C(null===e||void 0===e?void 0:e.label)})})))]})}}),D.session&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:D.session.message})]})}),(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"Password",children:[(0,g.jsx)(d.Z.Label,{children:C("password")}),(0,g.jsx)(f.Qr,{control:E,name:"password",render:function(e){var n=e.field,r=n.onChange,s=(n.onBlur,n.value),t=n.ref;return(0,g.jsx)(d.Z.Control,{onChange:r,value:s,ref:t,isInvalid:D.password,placeholder:C("password"),type:"password"})}}),D.password&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:D.password.message})]}),(0,g.jsxs)(d.Z.Group,{className:"mb-3",controlId:"confirmPassword",children:[(0,g.jsx)(d.Z.Label,{children:C("confirm password")}),(0,g.jsx)(f.Qr,{control:E,name:"confirmPassword",render:function(e){var n=e.field,r=n.onChange,s=(n.onBlur,n.value),t=n.ref;return(0,g.jsx)(d.Z.Control,{onChange:r,value:s,ref:t,isInvalid:D.confirmPassword,placeholder:C("confirm password"),type:"password"})}}),D.confirmPassword&&(0,g.jsx)(d.Z.Text,{className:"text-danger",children:D.confirmPassword.message})]}),(0,g.jsx)("div",{className:"d-grid",children:(0,g.jsx)("button",{className:"btn btn-primary btn-block login-btn mt-2",type:"submit",children:N?(0,g.jsx)(m.Z,{size:"sm",color:"light"}):C("Sign up")})})]}),(0,g.jsxs)("div",{className:"text-center w-100 mt-3",children:[(0,g.jsx)(i.rU,{className:"text-center",to:"/login",children:C("sign in")}),(0,g.jsx)("br",{}),(0,g.jsx)(i.rU,{className:"text-center",to:"/forgot-password",children:C("forget password")})]})]})})})})})})})})})}},4427:function(e,n,r){e.exports=r.p+"static/media/logo.163d4d7f9d976c3e182c.png"}}]);
//# sourceMappingURL=555.a3973fc5.chunk.js.map